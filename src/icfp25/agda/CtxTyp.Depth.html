<a id="1" class="Comment">{-|
This module defines the depth of contexts and substitutions as described in
Section 4.1.1, and proves that depth is preserved by several operations on substitutions.
-}</a>

<a id="175" class="Symbol">{-#</a> <a id="179" class="Keyword">OPTIONS</a> <a id="187" class="Pragma">--safe</a> <a id="194" class="Symbol">#-}</a>
<a id="198" class="Keyword">module</a> <a id="205" href="CtxTyp.Depth.html" class="Module">CtxTyp.Depth</a> <a id="218" class="Keyword">where</a>

<a id="225" class="Keyword">open</a> <a id="230" class="Keyword">import</a> <a id="237" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="246" class="Keyword">using</a> <a id="252" class="Symbol">(</a><a id="253" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="254" class="Symbol">;</a> <a id="256" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="259" class="Symbol">;</a> <a id="261" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="265" class="Symbol">;</a> <a id="267" href="Data.Nat.Base.html#8799" class="Function Operator">_≥‴_</a><a id="271" class="Symbol">;</a> <a id="273" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a><a id="280" class="Symbol">;</a> <a id="282" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a><a id="289" class="Symbol">;</a> <a id="291" href="Data.Nat.Base.html#1697" class="Datatype Operator">_≤_</a><a id="294" class="Symbol">;</a> <a id="296" href="Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a><a id="299" class="Symbol">;</a> <a id="301" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a><a id="304" class="Symbol">;</a> <a id="306" href="Data.Nat.Base.html#5485" class="Function Operator">_⊔_</a><a id="309" class="Symbol">)</a>
<a id="311" class="Keyword">import</a> <a id="318" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="338" class="Symbol">as</a> <a id="341" class="Module">ℕ</a>
<a id="343" class="Keyword">open</a> <a id="348" class="Keyword">import</a> <a id="355" href="Function.html" class="Module">Function</a> <a id="364" class="Keyword">using</a> <a id="370" class="Symbol">(</a><a id="371" href="Function.Base.html#704" class="Function">id</a><a id="373" class="Symbol">;</a> <a id="375" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="378" class="Symbol">)</a>

<a id="381" class="Keyword">open</a> <a id="386" class="Keyword">import</a> <a id="393" href="CtxTyp.Context.html" class="Module">CtxTyp.Context</a>
<a id="408" class="Keyword">open</a> <a id="413" class="Keyword">import</a> <a id="420" href="CtxTyp.Term.html" class="Module">CtxTyp.Term</a>

<a id="433" class="Keyword">private</a> <a id="441" class="Keyword">variable</a>
  <a id="452" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="454" href="CtxTyp.Depth.html#454" class="Generalizable">d′</a> <a id="457" class="Symbol">:</a> <a id="459" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="463" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="465" href="CtxTyp.Depth.html#465" class="Generalizable">σ′</a> <a id="468" class="Symbol">:</a> <a id="470" href="CtxTyp.Term.html#2181" class="Function">Subst</a> <a id="476" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="478" href="CtxTyp.Context.html#511" class="Generalizable">Γ′</a>

<a id="482" class="Comment">-- | Context depth</a>
<a id="depth"></a><a id="501" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="507" class="Symbol">:</a> <a id="509" href="CtxTyp.Context.html#431" class="Datatype">Context</a> <a id="517" href="Data.StagedList.html#843" class="Generalizable">n</a> <a id="519" class="Symbol">→</a> <a id="521" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="523" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="529" href="Data.StagedList.html#1909" class="InductiveConstructor">∅</a> <a id="531" class="Symbol">=</a> <a id="533" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>
<a id="538" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="544" class="Symbol">(</a><a id="545" href="CtxTyp.Depth.html#545" class="Bound">Γ</a> <a id="547" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="550" href="CtxTyp.Depth.html#550" class="Bound">Δ</a> <a id="552" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="554" class="Symbol">_</a> <a id="556" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="558" class="Symbol">_</a> <a id="560" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="561" class="Symbol">)</a> <a id="563" class="Symbol">=</a> <a id="565" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="571" href="CtxTyp.Depth.html#545" class="Bound">Γ</a> <a id="573" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="575" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="579" class="Symbol">(</a><a id="580" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="586" href="CtxTyp.Depth.html#550" class="Bound">Δ</a><a id="587" class="Symbol">)</a>
<a id="589" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="595" class="Symbol">(</a><a id="596" href="CtxTyp.Depth.html#596" class="Bound">Γ</a> <a id="598" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="601" href="CtxTyp.Depth.html#601" class="Bound">Δ</a><a id="602" class="Symbol">)</a> <a id="604" class="Symbol">=</a> <a id="606" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="612" href="CtxTyp.Depth.html#596" class="Bound">Γ</a> <a id="614" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="616" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="622" href="CtxTyp.Depth.html#601" class="Bound">Δ</a>

<a id="625" class="Comment">-- | Substitution depth</a>
<a id="depthSubstItem"></a><a id="649" href="CtxTyp.Depth.html#649" class="Function">depthSubstItem</a> <a id="664" class="Symbol">:</a> <a id="666" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="668" href="CtxTyp.Term.html#929" class="Datatype Operator">⊩[</a> <a id="671" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a> <a id="673" href="CtxTyp.Term.html#929" class="Datatype Operator">⊢</a> <a id="675" href="CtxTyp.Context.html#486" class="Generalizable">A</a> <a id="677" href="CtxTyp.Term.html#929" class="Datatype Operator">^</a> <a id="679" href="Data.StagedList.html#857" class="Generalizable">m≥n</a> <a id="683" href="CtxTyp.Term.html#929" class="Datatype Operator">]</a> <a id="685" class="Symbol">→</a> <a id="687" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="689" href="CtxTyp.Depth.html#649" class="Function">depthSubstItem</a> <a id="704" class="Symbol">(</a><a id="705" href="CtxTyp.Term.html#1107" class="InductiveConstructor">var</a> <a id="709" class="Symbol">_)</a> <a id="712" class="Symbol">=</a> <a id="714" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>
<a id="719" href="CtxTyp.Depth.html#649" class="Function">depthSubstItem</a> <a id="734" class="Symbol">{</a><a id="735" class="Argument">Δ</a> <a id="737" class="Symbol">=</a> <a id="739" href="CtxTyp.Depth.html#739" class="Bound">Δ</a><a id="740" class="Symbol">}</a> <a id="742" class="Symbol">(</a><a id="743" href="CtxTyp.Term.html#1004" class="InductiveConstructor">term</a> <a id="748" href="CtxTyp.Depth.html#748" class="Bound">e</a><a id="749" class="Symbol">)</a> <a id="751" class="Symbol">=</a> <a id="753" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="757" class="Symbol">(</a><a id="758" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="764" href="CtxTyp.Depth.html#739" class="Bound">Δ</a><a id="765" class="Symbol">)</a>

<a id="depthSubst"></a><a id="768" href="CtxTyp.Depth.html#768" class="Function">depthSubst</a> <a id="779" class="Symbol">:</a> <a id="781" href="CtxTyp.Term.html#2181" class="Function">Subst</a> <a id="787" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="789" href="CtxTyp.Context.html#511" class="Generalizable">Γ′</a> <a id="792" class="Symbol">→</a> <a id="794" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="796" href="CtxTyp.Depth.html#768" class="Function">depthSubst</a> <a id="807" href="CtxTyp.Term.html#1427" class="InductiveConstructor">∅</a> <a id="809" class="Symbol">=</a> <a id="811" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>
<a id="816" href="CtxTyp.Depth.html#768" class="Function">depthSubst</a> <a id="827" class="Symbol">(</a><a id="828" href="CtxTyp.Depth.html#828" class="Bound">σ</a> <a id="830" href="CtxTyp.Term.html#1440" class="InductiveConstructor Operator">,</a> <a id="832" href="CtxTyp.Depth.html#832" class="Bound">item</a><a id="836" class="Symbol">)</a> <a id="838" class="Symbol">=</a> <a id="840" href="CtxTyp.Depth.html#768" class="Function">depthSubst</a> <a id="851" href="CtxTyp.Depth.html#828" class="Bound">σ</a> <a id="853" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="855" href="CtxTyp.Depth.html#649" class="Function">depthSubstItem</a> <a id="870" href="CtxTyp.Depth.html#832" class="Bound">item</a>
<a id="875" href="CtxTyp.Depth.html#768" class="Function">depthSubst</a> <a id="886" class="Symbol">(</a><a id="887" href="CtxTyp.Depth.html#887" class="Bound">σ₁</a> <a id="890" href="CtxTyp.Term.html#1519" class="InductiveConstructor Operator">++ˢ</a> <a id="894" href="CtxTyp.Depth.html#894" class="Bound">σ₂</a><a id="896" class="Symbol">)</a> <a id="898" class="Symbol">=</a> <a id="900" href="CtxTyp.Depth.html#768" class="Function">depthSubst</a> <a id="911" href="CtxTyp.Depth.html#887" class="Bound">σ₁</a> <a id="914" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="916" href="CtxTyp.Depth.html#768" class="Function">depthSubst</a> <a id="927" href="CtxTyp.Depth.html#894" class="Bound">σ₂</a>


<a id="932" class="Comment">-- Inductively defined depth upper bound relations</a>

<a id="984" class="Keyword">infix</a> <a id="990" class="Number">4</a> <a id="992" href="CtxTyp.Depth.html#1084" class="Datatype Operator">_≤ᵈ_</a>  <a id="998" href="CtxTyp.Depth.html#1641" class="Datatype Operator">_≤ᵈ′_</a>
<a id="1004" class="Keyword">infixl</a> <a id="1011" class="Number">5</a> <a id="1013" href="CtxTyp.Depth.html#1195" class="InductiveConstructor Operator">_++ᵈ_</a> <a id="1019" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">_++ˢᵈ_</a>

<a id="1027" class="Comment">-- | Γ ≤ᵈ d means that the depth of Γ is at most d.</a>
<a id="1079" class="Keyword">data</a> <a id="_≤ᵈ_"></a><a id="1084" href="CtxTyp.Depth.html#1084" class="Datatype Operator">_≤ᵈ_</a> <a id="1089" class="Symbol">{</a><a id="1090" href="CtxTyp.Depth.html#1090" class="Bound">n</a><a id="1091" class="Symbol">}</a> <a id="1093" class="Symbol">:</a> <a id="1095" href="CtxTyp.Context.html#431" class="Datatype">Context</a> <a id="1103" href="CtxTyp.Depth.html#1090" class="Bound">n</a> <a id="1105" class="Symbol">→</a> <a id="1107" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1109" class="Symbol">→</a> <a id="1111" href="Agda.Primitive.html#347" class="Primitive">Prop</a> <a id="1116" class="Keyword">where</a>
  <a id="_≤ᵈ_.∅"></a><a id="1124" href="CtxTyp.Depth.html#1124" class="InductiveConstructor">∅</a> <a id="1126" class="Symbol">:</a> <a id="1128" href="Data.StagedList.html#1909" class="InductiveConstructor">∅</a> <a id="1130" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="1133" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
  <a id="_≤ᵈ_._,_"></a><a id="1137" href="CtxTyp.Depth.html#1137" class="InductiveConstructor Operator">_,_</a> <a id="1141" class="Symbol">:</a> <a id="1143" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="1145" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="1148" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1152" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1154" class="Symbol">→</a> <a id="1156" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a> <a id="1158" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="1161" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1163" class="Symbol">→</a> <a id="1165" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="1167" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="1170" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a> <a id="1172" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="1174" href="CtxTyp.Context.html#486" class="Generalizable">A</a> <a id="1176" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="1178" href="Data.StagedList.html#857" class="Generalizable">m≥n</a> <a id="1182" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a> <a id="1184" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="1187" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1191" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
  <a id="_≤ᵈ_._++ᵈ_"></a><a id="1195" href="CtxTyp.Depth.html#1195" class="InductiveConstructor Operator">_++ᵈ_</a> <a id="1201" class="Symbol">:</a> <a id="1203" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="1205" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="1208" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1210" class="Symbol">→</a> <a id="1212" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a> <a id="1214" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="1217" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1219" class="Symbol">→</a> <a id="1221" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="1223" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="1226" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a> <a id="1228" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="1231" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>

<a id="1234" class="Keyword">module</a> <a id="1241" href="CtxTyp.Depth.html#1241" class="Module">_</a> <a id="1243" class="Symbol">{</a><a id="1244" href="CtxTyp.Depth.html#1244" class="Bound">Γ′</a> <a id="1247" href="CtxTyp.Depth.html#1247" class="Bound">Δ</a> <a id="1249" href="CtxTyp.Depth.html#1249" class="Bound">A</a><a id="1250" class="Symbol">}</a> <a id="1252" class="Symbol">{</a><a id="1253" href="CtxTyp.Depth.html#1253" class="Bound">m≥n</a> <a id="1257" class="Symbol">:</a> <a id="1259" href="Data.StagedList.html#841" class="Generalizable">m</a> <a id="1261" href="Data.Nat.Base.html#8799" class="Function Operator">≥‴</a> <a id="1264" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="1265" class="Symbol">}</a> <a id="1267" class="Keyword">where</a>
  <a id="1275" class="Keyword">infix</a> <a id="1281" class="Number">4</a> <a id="1283" href="CtxTyp.Depth.html#1375" class="Datatype Operator">_≤ᵈ″_</a>
  <a id="1291" class="Comment">-- | item ≤ᵈ″ d means that the depth of the substitution entry is at most d.</a>
  <a id="1370" class="Keyword">data</a> <a id="1375" href="CtxTyp.Depth.html#1375" class="Datatype Operator">_≤ᵈ″_</a> <a id="1381" class="Symbol">:</a> <a id="1383" href="CtxTyp.Depth.html#1244" class="Bound">Γ′</a> <a id="1386" href="CtxTyp.Term.html#929" class="Datatype Operator">⊩[</a> <a id="1389" href="CtxTyp.Depth.html#1247" class="Bound">Δ</a> <a id="1391" href="CtxTyp.Term.html#929" class="Datatype Operator">⊢</a> <a id="1393" href="CtxTyp.Depth.html#1249" class="Bound">A</a> <a id="1395" href="CtxTyp.Term.html#929" class="Datatype Operator">^</a> <a id="1397" href="CtxTyp.Depth.html#1253" class="Bound">m≥n</a> <a id="1401" href="CtxTyp.Term.html#929" class="Datatype Operator">]</a> <a id="1403" class="Symbol">→</a> <a id="1405" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1407" class="Symbol">→</a> <a id="1409" href="Agda.Primitive.html#347" class="Primitive">Prop</a> <a id="1414" class="Keyword">where</a>
    <a id="1424" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="1429" class="Symbol">:</a> <a id="1431" class="Symbol">∀</a> <a id="1433" class="Symbol">{</a><a id="1434" href="CtxTyp.Depth.html#1434" class="Bound">e</a><a id="1435" class="Symbol">}</a> <a id="1437" class="Symbol">→</a> <a id="1439" href="CtxTyp.Depth.html#1247" class="Bound">Δ</a> <a id="1441" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="1444" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1446" class="Symbol">→</a> <a id="1448" href="CtxTyp.Term.html#1004" class="InductiveConstructor">term</a> <a id="1453" href="CtxTyp.Depth.html#1434" class="Bound">e</a> <a id="1455" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="1459" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1463" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
    <a id="1469" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a> <a id="1473" class="Symbol">:</a> <a id="1475" class="Symbol">∀</a> <a id="1477" class="Symbol">{</a><a id="1478" href="CtxTyp.Depth.html#1478" class="Bound">x</a><a id="1479" class="Symbol">}</a> <a id="1481" class="Symbol">→</a> <a id="1483" href="CtxTyp.Term.html#1107" class="InductiveConstructor">var</a> <a id="1487" href="CtxTyp.Depth.html#1478" class="Bound">x</a> <a id="1489" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="1493" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>

  <a id="1498" href="CtxTyp.Depth.html#1498" class="Function">untermᵈ</a> <a id="1506" class="Symbol">:</a> <a id="1508" class="Symbol">∀</a> <a id="1510" class="Symbol">{</a><a id="1511" href="CtxTyp.Depth.html#1511" class="Bound">e</a><a id="1512" class="Symbol">}</a> <a id="1514" class="Symbol">→</a> <a id="1516" href="CtxTyp.Term.html#1004" class="InductiveConstructor">term</a> <a id="1521" href="CtxTyp.Depth.html#1511" class="Bound">e</a> <a id="1523" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="1527" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1531" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1533" class="Symbol">→</a> <a id="1535" href="CtxTyp.Depth.html#1247" class="Bound">Δ</a> <a id="1537" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="1540" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
  <a id="1544" href="CtxTyp.Depth.html#1498" class="Function">untermᵈ</a> <a id="1552" class="Symbol">(</a><a id="1553" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="1558" href="CtxTyp.Depth.html#1558" class="Bound">e</a><a id="1559" class="Symbol">)</a> <a id="1561" class="Symbol">=</a> <a id="1563" href="CtxTyp.Depth.html#1558" class="Bound">e</a>

<a id="1566" class="Comment">-- | σ ≤ᵈ′ d means that the depth of the substitution σ is at most d.</a>
<a id="1636" class="Keyword">data</a> <a id="_≤ᵈ′_"></a><a id="1641" href="CtxTyp.Depth.html#1641" class="Datatype Operator">_≤ᵈ′_</a> <a id="1647" class="Symbol">{</a><a id="1648" href="CtxTyp.Depth.html#1648" class="Bound">Γ′</a> <a id="1651" class="Symbol">:</a> <a id="1653" href="CtxTyp.Context.html#431" class="Datatype">Context</a> <a id="1661" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="1662" class="Symbol">}</a> <a id="1664" class="Symbol">:</a> <a id="1666" href="CtxTyp.Term.html#2181" class="Function">Subst</a> <a id="1672" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="1674" href="CtxTyp.Depth.html#1648" class="Bound">Γ′</a> <a id="1677" class="Symbol">→</a> <a id="1679" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1681" class="Symbol">→</a> <a id="1683" href="Agda.Primitive.html#347" class="Primitive">Prop</a> <a id="1688" class="Keyword">where</a>
  <a id="_≤ᵈ′_.∅"></a><a id="1696" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a> <a id="1698" class="Symbol">:</a> <a id="1700" href="CtxTyp.Term.html#1427" class="InductiveConstructor">∅</a> <a id="1702" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="1706" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
  <a id="_≤ᵈ′_._,_"></a><a id="1710" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">_,_</a> <a id="1714" class="Symbol">:</a> <a id="1716" class="Symbol">∀</a> <a id="1718" class="Symbol">{</a><a id="1719" href="CtxTyp.Depth.html#1719" class="Bound">item</a> <a id="1724" class="Symbol">:</a> <a id="1726" href="CtxTyp.Depth.html#1648" class="Bound">Γ′</a> <a id="1729" href="CtxTyp.Term.html#929" class="Datatype Operator">⊩[</a> <a id="1732" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a> <a id="1734" href="CtxTyp.Term.html#929" class="Datatype Operator">⊢</a> <a id="1736" href="CtxTyp.Context.html#486" class="Generalizable">A</a> <a id="1738" href="CtxTyp.Term.html#929" class="Datatype Operator">^</a> <a id="1740" href="Data.StagedList.html#857" class="Generalizable">m≥n</a> <a id="1744" href="CtxTyp.Term.html#929" class="Datatype Operator">]</a><a id="1745" class="Symbol">}</a> <a id="1747" class="Symbol">→</a> <a id="1749" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="1751" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="1755" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1757" class="Symbol">→</a> <a id="1759" href="CtxTyp.Depth.html#1719" class="Bound">item</a> <a id="1764" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="1768" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1770" class="Symbol">→</a> <a id="1772" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="1774" href="CtxTyp.Term.html#1440" class="InductiveConstructor Operator">,</a> <a id="1776" href="CtxTyp.Depth.html#1719" class="Bound">item</a> <a id="1781" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="1785" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
  <a id="_≤ᵈ′_._++ˢᵈ_"></a><a id="1789" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">_++ˢᵈ_</a> <a id="1796" class="Symbol">:</a> <a id="1798" class="Symbol">∀</a> <a id="1800" class="Symbol">{</a><a id="1801" href="CtxTyp.Depth.html#1801" class="Bound">σ</a> <a id="1803" class="Symbol">:</a> <a id="1805" href="CtxTyp.Depth.html#1648" class="Bound">Γ′</a> <a id="1808" href="CtxTyp.Term.html#1380" class="Datatype Operator">⊩</a> <a id="1810" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a><a id="1811" class="Symbol">}</a> <a id="1813" class="Symbol">{</a><a id="1814" href="CtxTyp.Depth.html#1814" class="Bound">σ′</a> <a id="1817" class="Symbol">:</a> <a id="1819" href="CtxTyp.Depth.html#1648" class="Bound">Γ′</a> <a id="1822" href="CtxTyp.Term.html#1380" class="Datatype Operator">⊩</a> <a id="1824" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a><a id="1825" class="Symbol">}</a> <a id="1827" class="Symbol">→</a> <a id="1829" href="CtxTyp.Depth.html#1801" class="Bound">σ</a> <a id="1831" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="1835" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1837" class="Symbol">→</a> <a id="1839" href="CtxTyp.Depth.html#1814" class="Bound">σ′</a> <a id="1842" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="1846" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1848" class="Symbol">→</a> <a id="1850" href="CtxTyp.Depth.html#1801" class="Bound">σ</a> <a id="1852" href="CtxTyp.Term.html#1519" class="InductiveConstructor Operator">++ˢ</a> <a id="1856" href="CtxTyp.Depth.html#1814" class="Bound">σ′</a> <a id="1859" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="1863" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>

<a id="1866" class="Comment">-- | Weaken a context depth upper bound.</a>
<a id="≤ᵈ-≤-trans"></a><a id="1907" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="1918" class="Symbol">:</a> <a id="1920" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="1922" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="1925" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1927" class="Symbol">→</a> <a id="1929" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="1931" href="Data.Nat.Base.html#1697" class="Datatype Operator">≤</a> <a id="1933" href="CtxTyp.Depth.html#454" class="Generalizable">d′</a> <a id="1936" class="Symbol">→</a> <a id="1938" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="1940" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="1943" href="CtxTyp.Depth.html#454" class="Generalizable">d′</a>
<a id="1946" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="1957" href="CtxTyp.Depth.html#1124" class="InductiveConstructor">∅</a> <a id="1959" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a> <a id="1963" class="Symbol">=</a> <a id="1965" href="CtxTyp.Depth.html#1124" class="InductiveConstructor">∅</a>
<a id="1967" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="1978" href="CtxTyp.Depth.html#1124" class="InductiveConstructor">∅</a> <a id="1980" class="Symbol">(</a><a id="1981" href="Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a> <a id="1985" href="CtxTyp.Depth.html#1985" class="Bound">d≤d′</a><a id="1989" class="Symbol">)</a> <a id="1991" class="Symbol">=</a> <a id="1993" href="CtxTyp.Depth.html#1124" class="InductiveConstructor">∅</a>
<a id="1995" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="2006" class="Symbol">(</a><a id="2007" href="CtxTyp.Depth.html#2007" class="Bound">Γ≤</a> <a id="2010" href="CtxTyp.Depth.html#1137" class="InductiveConstructor Operator">,</a> <a id="2012" href="CtxTyp.Depth.html#2012" class="Bound">Γ≤₁</a><a id="2015" class="Symbol">)</a> <a id="2017" class="Symbol">(</a><a id="2018" href="Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a> <a id="2022" href="CtxTyp.Depth.html#2022" class="Bound">d≤d′</a><a id="2026" class="Symbol">)</a> <a id="2028" class="Symbol">=</a> <a id="2030" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="2041" href="CtxTyp.Depth.html#2007" class="Bound">Γ≤</a> <a id="2044" class="Symbol">(</a><a id="2045" href="Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a> <a id="2049" href="CtxTyp.Depth.html#2022" class="Bound">d≤d′</a><a id="2053" class="Symbol">)</a> <a id="2055" href="CtxTyp.Depth.html#1137" class="InductiveConstructor Operator">,</a> <a id="2057" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="2068" href="CtxTyp.Depth.html#2012" class="Bound">Γ≤₁</a> <a id="2072" href="CtxTyp.Depth.html#2022" class="Bound">d≤d′</a>
<a id="2077" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="2088" class="Symbol">(</a><a id="2089" href="CtxTyp.Depth.html#2089" class="Bound">Γ≤</a> <a id="2092" href="CtxTyp.Depth.html#1195" class="InductiveConstructor Operator">++ᵈ</a> <a id="2096" href="CtxTyp.Depth.html#2096" class="Bound">Δ≤</a><a id="2098" class="Symbol">)</a> <a id="2100" href="CtxTyp.Depth.html#2100" class="Bound">d≤d′</a> <a id="2105" class="Symbol">=</a> <a id="2107" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="2118" href="CtxTyp.Depth.html#2089" class="Bound">Γ≤</a> <a id="2121" href="CtxTyp.Depth.html#2100" class="Bound">d≤d′</a> <a id="2126" href="CtxTyp.Depth.html#1195" class="InductiveConstructor Operator">++ᵈ</a> <a id="2130" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="2141" href="CtxTyp.Depth.html#2096" class="Bound">Δ≤</a> <a id="2144" href="CtxTyp.Depth.html#2100" class="Bound">d≤d′</a>

<a id="2150" class="Comment">-- | Weaken a substitution entry depth upper bound.</a>
<a id="≤ᵈ″-≤-trans"></a><a id="2202" href="CtxTyp.Depth.html#2202" class="Function">≤ᵈ″-≤-trans</a> <a id="2214" class="Symbol">:</a> <a id="2216" class="Symbol">{</a><a id="2217" href="CtxTyp.Depth.html#2217" class="Bound">item</a> <a id="2222" class="Symbol">:</a> <a id="2224" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="2226" href="CtxTyp.Term.html#929" class="Datatype Operator">⊩[</a> <a id="2229" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a> <a id="2231" href="CtxTyp.Term.html#929" class="Datatype Operator">⊢</a> <a id="2233" href="CtxTyp.Context.html#486" class="Generalizable">A</a> <a id="2235" href="CtxTyp.Term.html#929" class="Datatype Operator">^</a> <a id="2237" href="Data.StagedList.html#857" class="Generalizable">m≥n</a> <a id="2241" href="CtxTyp.Term.html#929" class="Datatype Operator">]</a><a id="2242" class="Symbol">}</a> <a id="2244" class="Symbol">→</a> <a id="2246" href="CtxTyp.Depth.html#2217" class="Bound">item</a> <a id="2251" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="2255" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="2257" class="Symbol">→</a> <a id="2259" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="2261" href="Data.Nat.Base.html#1697" class="Datatype Operator">≤</a> <a id="2263" href="CtxTyp.Depth.html#454" class="Generalizable">d′</a> <a id="2266" class="Symbol">→</a> <a id="2268" href="CtxTyp.Depth.html#2217" class="Bound">item</a> <a id="2273" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="2277" href="CtxTyp.Depth.html#454" class="Generalizable">d′</a>
<a id="2280" href="CtxTyp.Depth.html#2202" class="Function">≤ᵈ″-≤-trans</a> <a id="2292" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a> <a id="2296" href="CtxTyp.Depth.html#2296" class="Bound">d≤d′</a> <a id="2301" class="Symbol">=</a> <a id="2303" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a>
<a id="2307" href="CtxTyp.Depth.html#2202" class="Function">≤ᵈ″-≤-trans</a> <a id="2319" class="Symbol">{</a><a id="2320" class="Argument">d</a> <a id="2322" class="Symbol">=</a> <a id="2324" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2328" class="Symbol">_}</a> <a id="2331" class="Symbol">(</a><a id="2332" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="2337" href="CtxTyp.Depth.html#2337" class="Bound">Δ&lt;d</a><a id="2340" class="Symbol">)</a> <a id="2342" class="Symbol">(</a><a id="2343" href="Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a> <a id="2347" href="CtxTyp.Depth.html#2347" class="Bound">d≤d′</a><a id="2351" class="Symbol">)</a> <a id="2353" class="Symbol">=</a> <a id="2355" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="2360" class="Symbol">(</a><a id="2361" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="2372" href="CtxTyp.Depth.html#2337" class="Bound">Δ&lt;d</a> <a id="2376" href="CtxTyp.Depth.html#2347" class="Bound">d≤d′</a><a id="2380" class="Symbol">)</a>

<a id="2383" class="Comment">-- | Weaken a substitution depth upper bound.</a>
<a id="≤ᵈ′-≤-trans"></a><a id="2429" href="CtxTyp.Depth.html#2429" class="Function">≤ᵈ′-≤-trans</a> <a id="2441" class="Symbol">:</a> <a id="2443" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="2445" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="2449" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="2451" class="Symbol">→</a> <a id="2453" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="2455" href="Data.Nat.Base.html#1697" class="Datatype Operator">≤</a> <a id="2457" href="CtxTyp.Depth.html#454" class="Generalizable">d′</a> <a id="2460" class="Symbol">→</a> <a id="2462" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="2464" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="2468" href="CtxTyp.Depth.html#454" class="Generalizable">d′</a>
<a id="2471" href="CtxTyp.Depth.html#2429" class="Function">≤ᵈ′-≤-trans</a> <a id="2483" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a> <a id="2485" class="Symbol">_</a> <a id="2487" class="Symbol">=</a> <a id="2489" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a>
<a id="2491" href="CtxTyp.Depth.html#2429" class="Function">≤ᵈ′-≤-trans</a> <a id="2503" class="Symbol">(</a><a id="2504" href="CtxTyp.Depth.html#2504" class="Bound">σ≤</a> <a id="2507" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="2509" href="CtxTyp.Depth.html#2509" class="Bound">item</a><a id="2513" class="Symbol">)</a> <a id="2515" href="CtxTyp.Depth.html#2515" class="Bound">d≤d′</a> <a id="2520" class="Symbol">=</a> <a id="2522" href="CtxTyp.Depth.html#2429" class="Function">≤ᵈ′-≤-trans</a> <a id="2534" href="CtxTyp.Depth.html#2504" class="Bound">σ≤</a> <a id="2537" href="CtxTyp.Depth.html#2515" class="Bound">d≤d′</a> <a id="2542" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="2544" href="CtxTyp.Depth.html#2202" class="Function">≤ᵈ″-≤-trans</a> <a id="2556" href="CtxTyp.Depth.html#2509" class="Bound">item</a> <a id="2561" href="CtxTyp.Depth.html#2515" class="Bound">d≤d′</a>
<a id="2566" href="CtxTyp.Depth.html#2429" class="Function">≤ᵈ′-≤-trans</a> <a id="2578" class="Symbol">(</a><a id="2579" href="CtxTyp.Depth.html#2579" class="Bound">σ₁≤</a> <a id="2583" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="2588" href="CtxTyp.Depth.html#2588" class="Bound">σ₂≤</a><a id="2591" class="Symbol">)</a> <a id="2593" href="CtxTyp.Depth.html#2593" class="Bound">d≤d′</a> <a id="2598" class="Symbol">=</a> <a id="2600" href="CtxTyp.Depth.html#2429" class="Function">≤ᵈ′-≤-trans</a> <a id="2612" href="CtxTyp.Depth.html#2579" class="Bound">σ₁≤</a> <a id="2616" href="CtxTyp.Depth.html#2593" class="Bound">d≤d′</a> <a id="2621" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="2626" href="CtxTyp.Depth.html#2429" class="Function">≤ᵈ′-≤-trans</a> <a id="2638" href="CtxTyp.Depth.html#2588" class="Bound">σ₂≤</a> <a id="2642" href="CtxTyp.Depth.html#2593" class="Bound">d≤d′</a>

<a id="2648" class="Comment">-- | depth Γ is an upper bound for the depth of Γ.</a>
<a id="≤ᵈ-refl"></a><a id="2699" href="CtxTyp.Depth.html#2699" class="Function">≤ᵈ-refl</a> <a id="2707" class="Symbol">:</a> <a id="2709" class="Symbol">∀</a> <a id="2711" class="Symbol">(</a><a id="2712" href="CtxTyp.Depth.html#2712" class="Bound">Γ</a> <a id="2714" class="Symbol">:</a> <a id="2716" href="CtxTyp.Context.html#431" class="Datatype">Context</a> <a id="2724" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="2725" class="Symbol">)</a> <a id="2727" class="Symbol">→</a> <a id="2729" href="CtxTyp.Depth.html#2712" class="Bound">Γ</a> <a id="2731" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="2734" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="2740" href="CtxTyp.Depth.html#2712" class="Bound">Γ</a>
<a id="2742" href="CtxTyp.Depth.html#2699" class="Function">≤ᵈ-refl</a> <a id="2750" href="Data.StagedList.html#1909" class="InductiveConstructor">∅</a> <a id="2752" class="Symbol">=</a> <a id="2754" href="CtxTyp.Depth.html#1124" class="InductiveConstructor">∅</a>
<a id="2756" href="CtxTyp.Depth.html#2699" class="Function">≤ᵈ-refl</a> <a id="2764" class="Symbol">(</a><a id="2765" href="CtxTyp.Depth.html#2765" class="Bound">Γ</a> <a id="2767" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="2770" href="CtxTyp.Depth.html#2770" class="Bound">Δ</a> <a id="2772" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="2774" class="Symbol">_</a> <a id="2776" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="2778" class="Symbol">_</a> <a id="2780" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="2781" class="Symbol">)</a> <a id="2783" class="Keyword">with</a> <a id="2788" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="2794" href="CtxTyp.Depth.html#2765" class="Bound">Γ</a> <a id="2796" class="Symbol">|</a> <a id="2798" href="CtxTyp.Depth.html#2699" class="Function">≤ᵈ-refl</a> <a id="2806" href="CtxTyp.Depth.html#2765" class="Bound">Γ</a>
<a id="2808" class="Symbol">...</a> <a id="2812" class="Symbol">|</a> <a id="2814" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="2819" class="Symbol">|</a> <a id="2821" href="CtxTyp.Depth.html#1124" class="InductiveConstructor">∅</a> <a id="2823" class="Symbol">=</a> <a id="2825" href="CtxTyp.Depth.html#1124" class="InductiveConstructor">∅</a> <a id="2827" href="CtxTyp.Depth.html#1137" class="InductiveConstructor Operator">,</a> <a id="2829" href="CtxTyp.Depth.html#2699" class="Function">≤ᵈ-refl</a> <a id="2837" class="Bound">Δ</a>
<a id="2839" class="Symbol">...</a> <a id="2843" class="Symbol">|</a> <a id="2845" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="2850" class="Symbol">|</a> <a id="2852" href="CtxTyp.Depth.html#2852" class="Bound">≤d</a> <a id="2855" href="CtxTyp.Depth.html#1195" class="InductiveConstructor Operator">++ᵈ</a> <a id="2859" href="CtxTyp.Depth.html#2859" class="Bound">≤d′</a> <a id="2863" class="Symbol">=</a> <a id="2865" class="Symbol">(</a><a id="2866" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="2877" href="CtxTyp.Depth.html#2852" class="Bound">≤d</a> <a id="2880" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a> <a id="2884" href="CtxTyp.Depth.html#1195" class="InductiveConstructor Operator">++ᵈ</a> <a id="2888" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="2899" href="CtxTyp.Depth.html#2859" class="Bound">≤d′</a> <a id="2903" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a><a id="2906" class="Symbol">)</a> <a id="2908" href="CtxTyp.Depth.html#1137" class="InductiveConstructor Operator">,</a> <a id="2910" href="CtxTyp.Depth.html#2699" class="Function">≤ᵈ-refl</a> <a id="2918" class="Bound">Δ</a>
<a id="2920" class="Symbol">...</a> <a id="2924" class="Symbol">|</a> <a id="2926" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2930" href="CtxTyp.Depth.html#2930" class="Bound">n</a> <a id="2932" class="Symbol">|</a> <a id="2934" href="CtxTyp.Depth.html#2934" class="Bound">≤d</a> <a id="2937" class="Symbol">=</a> <a id="2939" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="2950" href="CtxTyp.Depth.html#2934" class="Bound">≤d</a> <a id="2953" class="Symbol">(</a><a id="2954" href="Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a> <a id="2958" class="Symbol">(</a><a id="2959" href="Data.Nat.Properties.html#37570" class="Function">ℕ.m≤m⊔n</a> <a id="2967" href="CtxTyp.Depth.html#2930" class="Bound">n</a> <a id="2969" class="Symbol">(</a><a id="2970" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="2976" class="Bound">Δ</a><a id="2977" class="Symbol">)))</a> <a id="2981" href="CtxTyp.Depth.html#1137" class="InductiveConstructor Operator">,</a> <a id="2983" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="2994" class="Symbol">(</a><a id="2995" href="CtxTyp.Depth.html#2699" class="Function">≤ᵈ-refl</a> <a id="3003" class="Bound">Δ</a><a id="3004" class="Symbol">)</a> <a id="3006" class="Symbol">(</a><a id="3007" href="Data.Nat.Properties.html#37623" class="Function">ℕ.m≤n⊔m</a> <a id="3015" href="CtxTyp.Depth.html#2930" class="Bound">n</a> <a id="3017" class="Symbol">(</a><a id="3018" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="3024" class="Bound">Δ</a><a id="3025" class="Symbol">))</a>
<a id="3028" href="CtxTyp.Depth.html#2699" class="Function">≤ᵈ-refl</a> <a id="3036" class="Symbol">(</a><a id="3037" href="CtxTyp.Depth.html#3037" class="Bound">Γ</a> <a id="3039" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="3042" href="CtxTyp.Depth.html#3042" class="Bound">Δ</a><a id="3043" class="Symbol">)</a> <a id="3045" class="Symbol">=</a> <a id="3047" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="3058" class="Symbol">(</a><a id="3059" href="CtxTyp.Depth.html#2699" class="Function">≤ᵈ-refl</a> <a id="3067" href="CtxTyp.Depth.html#3037" class="Bound">Γ</a><a id="3068" class="Symbol">)</a> <a id="3070" class="Symbol">(</a><a id="3071" href="Data.Nat.Properties.html#37570" class="Function">ℕ.m≤m⊔n</a> <a id="3079" class="Symbol">(</a><a id="3080" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="3086" href="CtxTyp.Depth.html#3037" class="Bound">Γ</a><a id="3087" class="Symbol">)</a> <a id="3089" class="Symbol">(</a><a id="3090" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="3096" href="CtxTyp.Depth.html#3042" class="Bound">Δ</a><a id="3097" class="Symbol">))</a> <a id="3100" href="CtxTyp.Depth.html#1195" class="InductiveConstructor Operator">++ᵈ</a> <a id="3104" href="CtxTyp.Depth.html#1907" class="Function">≤ᵈ-≤-trans</a> <a id="3115" class="Symbol">(</a><a id="3116" href="CtxTyp.Depth.html#2699" class="Function">≤ᵈ-refl</a> <a id="3124" href="CtxTyp.Depth.html#3042" class="Bound">Δ</a><a id="3125" class="Symbol">)</a> <a id="3127" class="Symbol">(</a><a id="3128" href="Data.Nat.Properties.html#37623" class="Function">ℕ.m≤n⊔m</a> <a id="3136" class="Symbol">(</a><a id="3137" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="3143" href="CtxTyp.Depth.html#3037" class="Bound">Γ</a><a id="3144" class="Symbol">)</a> <a id="3146" class="Symbol">(</a><a id="3147" href="CtxTyp.Depth.html#501" class="Function">depth</a> <a id="3153" href="CtxTyp.Depth.html#3042" class="Bound">Δ</a><a id="3154" class="Symbol">))</a>

<a id="3158" class="Comment">-- | depthSubstItem item is an upper bound for the depth of the substitution entry.</a>
<a id="≤ᵈ″-refl"></a><a id="3242" href="CtxTyp.Depth.html#3242" class="Function">≤ᵈ″-refl</a> <a id="3251" class="Symbol">:</a> <a id="3253" class="Symbol">(</a><a id="3254" href="CtxTyp.Depth.html#3254" class="Bound">item</a> <a id="3259" class="Symbol">:</a> <a id="3261" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="3263" href="CtxTyp.Term.html#929" class="Datatype Operator">⊩[</a> <a id="3266" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a> <a id="3268" href="CtxTyp.Term.html#929" class="Datatype Operator">⊢</a> <a id="3270" href="CtxTyp.Context.html#486" class="Generalizable">A</a> <a id="3272" href="CtxTyp.Term.html#929" class="Datatype Operator">^</a> <a id="3274" href="Data.StagedList.html#857" class="Generalizable">m≥n</a> <a id="3278" href="CtxTyp.Term.html#929" class="Datatype Operator">]</a><a id="3279" class="Symbol">)</a> <a id="3281" class="Symbol">→</a> <a id="3283" href="CtxTyp.Depth.html#3254" class="Bound">item</a> <a id="3288" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="3292" href="CtxTyp.Depth.html#649" class="Function">depthSubstItem</a> <a id="3307" href="CtxTyp.Depth.html#3254" class="Bound">item</a>
<a id="3312" href="CtxTyp.Depth.html#3242" class="Function">≤ᵈ″-refl</a> <a id="3321" class="Symbol">{</a><a id="3322" class="Argument">Δ</a> <a id="3324" class="Symbol">=</a> <a id="3326" href="CtxTyp.Depth.html#3326" class="Bound">Δ</a><a id="3327" class="Symbol">}</a> <a id="3329" class="Symbol">(</a><a id="3330" href="CtxTyp.Term.html#1004" class="InductiveConstructor">term</a> <a id="3335" href="CtxTyp.Depth.html#3335" class="Bound">e</a><a id="3336" class="Symbol">)</a> <a id="3338" class="Symbol">=</a> <a id="3340" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="3345" class="Symbol">(</a><a id="3346" href="CtxTyp.Depth.html#2699" class="Function">≤ᵈ-refl</a> <a id="3354" href="CtxTyp.Depth.html#3326" class="Bound">Δ</a><a id="3355" class="Symbol">)</a>
<a id="3357" href="CtxTyp.Depth.html#3242" class="Function">≤ᵈ″-refl</a> <a id="3366" class="Symbol">(</a><a id="3367" href="CtxTyp.Term.html#1107" class="InductiveConstructor">var</a> <a id="3371" href="CtxTyp.Depth.html#3371" class="Bound">x</a><a id="3372" class="Symbol">)</a> <a id="3374" class="Symbol">=</a> <a id="3376" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a>

<a id="3381" class="Comment">-- | depthSubst σ is an upper bound for the depth of the substitution.</a>
<a id="≤ᵈ′-refl"></a><a id="3452" href="CtxTyp.Depth.html#3452" class="Function">≤ᵈ′-refl</a> <a id="3461" class="Symbol">:</a> <a id="3463" class="Symbol">∀</a> <a id="3465" class="Symbol">(</a><a id="3466" href="CtxTyp.Depth.html#3466" class="Bound">σ</a> <a id="3468" class="Symbol">:</a> <a id="3470" href="CtxTyp.Term.html#2181" class="Function">Subst</a> <a id="3476" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="3478" href="CtxTyp.Context.html#511" class="Generalizable">Γ′</a><a id="3480" class="Symbol">)</a> <a id="3482" class="Symbol">→</a> <a id="3484" href="CtxTyp.Depth.html#3466" class="Bound">σ</a> <a id="3486" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="3490" href="CtxTyp.Depth.html#768" class="Function">depthSubst</a> <a id="3501" href="CtxTyp.Depth.html#3466" class="Bound">σ</a>
<a id="3503" href="CtxTyp.Depth.html#3452" class="Function">≤ᵈ′-refl</a> <a id="3512" href="CtxTyp.Term.html#1427" class="InductiveConstructor">∅</a> <a id="3514" class="Symbol">=</a> <a id="3516" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a>
<a id="3518" href="CtxTyp.Depth.html#3452" class="Function">≤ᵈ′-refl</a> <a id="3527" class="Symbol">(</a><a id="3528" href="CtxTyp.Depth.html#3528" class="Bound">σ</a> <a id="3530" href="CtxTyp.Term.html#1440" class="InductiveConstructor Operator">,</a> <a id="3532" href="CtxTyp.Depth.html#3532" class="Bound">item</a><a id="3536" class="Symbol">)</a> <a id="3538" class="Symbol">=</a> <a id="3540" href="CtxTyp.Depth.html#2429" class="Function">≤ᵈ′-≤-trans</a> <a id="3552" class="Symbol">(</a><a id="3553" href="CtxTyp.Depth.html#3452" class="Function">≤ᵈ′-refl</a> <a id="3562" href="CtxTyp.Depth.html#3528" class="Bound">σ</a><a id="3563" class="Symbol">)</a> <a id="3565" class="Symbol">(</a><a id="3566" href="Data.Nat.Properties.html#37570" class="Function">ℕ.m≤m⊔n</a> <a id="3574" class="Symbol">_</a> <a id="3576" class="Symbol">_)</a> <a id="3579" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="3581" href="CtxTyp.Depth.html#2202" class="Function">≤ᵈ″-≤-trans</a> <a id="3593" class="Symbol">(</a><a id="3594" href="CtxTyp.Depth.html#3242" class="Function">≤ᵈ″-refl</a> <a id="3603" href="CtxTyp.Depth.html#3532" class="Bound">item</a><a id="3607" class="Symbol">)</a> <a id="3609" class="Symbol">(</a><a id="3610" href="Data.Nat.Properties.html#37623" class="Function">ℕ.m≤n⊔m</a> <a id="3618" class="Symbol">_</a> <a id="3620" class="Symbol">_)</a>
<a id="3623" href="CtxTyp.Depth.html#3452" class="Function">≤ᵈ′-refl</a> <a id="3632" class="Symbol">(</a><a id="3633" href="CtxTyp.Depth.html#3633" class="Bound">σ₁</a> <a id="3636" href="CtxTyp.Term.html#1519" class="InductiveConstructor Operator">++ˢ</a> <a id="3640" href="CtxTyp.Depth.html#3640" class="Bound">σ₂</a><a id="3642" class="Symbol">)</a> <a id="3644" class="Symbol">=</a> <a id="3646" href="CtxTyp.Depth.html#2429" class="Function">≤ᵈ′-≤-trans</a> <a id="3658" class="Symbol">(</a><a id="3659" href="CtxTyp.Depth.html#3452" class="Function">≤ᵈ′-refl</a> <a id="3668" href="CtxTyp.Depth.html#3633" class="Bound">σ₁</a><a id="3670" class="Symbol">)</a> <a id="3672" class="Symbol">(</a><a id="3673" href="Data.Nat.Properties.html#37570" class="Function">ℕ.m≤m⊔n</a> <a id="3681" class="Symbol">_</a> <a id="3683" class="Symbol">_)</a> <a id="3686" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="3691" href="CtxTyp.Depth.html#2429" class="Function">≤ᵈ′-≤-trans</a> <a id="3703" class="Symbol">(</a><a id="3704" href="CtxTyp.Depth.html#3452" class="Function">≤ᵈ′-refl</a> <a id="3713" href="CtxTyp.Depth.html#3640" class="Bound">σ₂</a><a id="3715" class="Symbol">)</a> <a id="3717" class="Symbol">(</a><a id="3718" href="Data.Nat.Properties.html#37623" class="Function">ℕ.m≤n⊔m</a> <a id="3726" class="Symbol">_</a> <a id="3728" class="Symbol">_)</a>

<a id="3732" class="Comment">-- | The depth of a substitution is at most the depth of its domain.</a>
<a id="≤ᵈ-dom"></a><a id="3801" href="CtxTyp.Depth.html#3801" class="Function">≤ᵈ-dom</a> <a id="3808" class="Symbol">:</a> <a id="3810" class="Symbol">∀</a> <a id="3812" class="Symbol">(</a><a id="3813" href="CtxTyp.Depth.html#3813" class="Bound">σ</a> <a id="3815" class="Symbol">:</a> <a id="3817" href="CtxTyp.Term.html#2181" class="Function">Subst</a> <a id="3823" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="3825" href="CtxTyp.Context.html#511" class="Generalizable">Γ′</a><a id="3827" class="Symbol">)</a> <a id="3829" class="Symbol">→</a> <a id="3831" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="3833" href="CtxTyp.Depth.html#1084" class="Datatype Operator">≤ᵈ</a> <a id="3836" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="3838" class="Symbol">→</a> <a id="3840" href="CtxTyp.Depth.html#3813" class="Bound">σ</a> <a id="3842" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="3846" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="3848" href="CtxTyp.Depth.html#3801" class="Function">≤ᵈ-dom</a> <a id="3855" href="CtxTyp.Term.html#1427" class="InductiveConstructor">∅</a> <a id="3857" class="Symbol">_</a> <a id="3859" class="Symbol">=</a> <a id="3861" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a>
<a id="3863" href="CtxTyp.Depth.html#3801" class="Function">≤ᵈ-dom</a> <a id="3870" class="Symbol">(</a><a id="3871" href="CtxTyp.Depth.html#3871" class="Bound">σ</a> <a id="3873" href="CtxTyp.Term.html#1440" class="InductiveConstructor Operator">,</a> <a id="3875" href="CtxTyp.Term.html#1004" class="InductiveConstructor">term</a> <a id="3880" class="Symbol">_)</a> <a id="3883" class="Symbol">(</a><a id="3884" href="CtxTyp.Depth.html#3884" class="Bound">Γ≤d</a> <a id="3888" href="CtxTyp.Depth.html#1137" class="InductiveConstructor Operator">,</a> <a id="3890" href="CtxTyp.Depth.html#3890" class="Bound">Δ&lt;d</a><a id="3893" class="Symbol">)</a> <a id="3895" class="Symbol">=</a> <a id="3897" href="CtxTyp.Depth.html#3801" class="Function">≤ᵈ-dom</a> <a id="3904" href="CtxTyp.Depth.html#3871" class="Bound">σ</a> <a id="3906" href="CtxTyp.Depth.html#3884" class="Bound">Γ≤d</a> <a id="3910" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="3912" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="3917" href="CtxTyp.Depth.html#3890" class="Bound">Δ&lt;d</a>
<a id="3921" href="CtxTyp.Depth.html#3801" class="Function">≤ᵈ-dom</a> <a id="3928" class="Symbol">(</a><a id="3929" href="CtxTyp.Depth.html#3929" class="Bound">σ</a> <a id="3931" href="CtxTyp.Term.html#1440" class="InductiveConstructor Operator">,</a> <a id="3933" href="CtxTyp.Term.html#1107" class="InductiveConstructor">var</a> <a id="3937" class="Symbol">_)</a> <a id="3940" class="Symbol">(</a><a id="3941" href="CtxTyp.Depth.html#3941" class="Bound">Γ≤d</a> <a id="3945" href="CtxTyp.Depth.html#1137" class="InductiveConstructor Operator">,</a> <a id="3947" class="Symbol">_)</a> <a id="3950" class="Symbol">=</a> <a id="3952" href="CtxTyp.Depth.html#3801" class="Function">≤ᵈ-dom</a> <a id="3959" href="CtxTyp.Depth.html#3929" class="Bound">σ</a> <a id="3961" href="CtxTyp.Depth.html#3941" class="Bound">Γ≤d</a> <a id="3965" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="3967" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a>
<a id="3971" href="CtxTyp.Depth.html#3801" class="Function">≤ᵈ-dom</a> <a id="3978" class="Symbol">(</a><a id="3979" href="CtxTyp.Depth.html#3979" class="Bound">σ₁</a> <a id="3982" href="CtxTyp.Term.html#1519" class="InductiveConstructor Operator">++ˢ</a> <a id="3986" href="CtxTyp.Depth.html#3986" class="Bound">σ₂</a><a id="3988" class="Symbol">)</a> <a id="3990" class="Symbol">(</a><a id="3991" href="CtxTyp.Depth.html#3991" class="Bound">Γ≤d</a> <a id="3995" href="CtxTyp.Depth.html#1195" class="InductiveConstructor Operator">++ᵈ</a> <a id="3999" href="CtxTyp.Depth.html#3999" class="Bound">Δ≤d</a><a id="4002" class="Symbol">)</a> <a id="4004" class="Symbol">=</a> <a id="4006" href="CtxTyp.Depth.html#3801" class="Function">≤ᵈ-dom</a> <a id="4013" href="CtxTyp.Depth.html#3979" class="Bound">σ₁</a> <a id="4016" href="CtxTyp.Depth.html#3991" class="Bound">Γ≤d</a> <a id="4020" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="4025" href="CtxTyp.Depth.html#3801" class="Function">≤ᵈ-dom</a> <a id="4032" href="CtxTyp.Depth.html#3986" class="Bound">σ₂</a> <a id="4035" href="CtxTyp.Depth.html#3999" class="Bound">Δ≤d</a>

<a id="4040" class="Comment">-- | Relate the depth of a substitution and its lookup results.</a>
<a id="lookupᵈ"></a><a id="4104" href="CtxTyp.Depth.html#4104" class="Function">lookupᵈ</a> <a id="4112" class="Symbol">:</a> <a id="4114" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="4116" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="4120" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="4122" class="Symbol">→</a> <a id="4124" class="Symbol">(</a><a id="4125" href="CtxTyp.Depth.html#4125" class="Bound">x</a> <a id="4127" class="Symbol">:</a> <a id="4129" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="4131" href="Data.StagedList.html#5816" class="Datatype Operator">∋[</a> <a id="4134" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a> <a id="4136" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="4138" href="CtxTyp.Context.html#486" class="Generalizable">A</a> <a id="4140" href="Data.StagedList.html#5816" class="Datatype Operator">^</a> <a id="4142" href="Data.StagedList.html#857" class="Generalizable">m≥n</a> <a id="4146" href="Data.StagedList.html#5816" class="Datatype Operator">]</a><a id="4147" class="Symbol">)</a> <a id="4149" class="Symbol">→</a> <a id="4151" href="CtxTyp.Term.html#1622" class="Function">lookup</a> <a id="4158" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="4160" href="CtxTyp.Depth.html#4125" class="Bound">x</a> <a id="4162" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="4166" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="4168" href="CtxTyp.Depth.html#4104" class="Function">lookupᵈ</a> <a id="4176" class="Symbol">(</a><a id="4177" href="CtxTyp.Depth.html#4177" class="Bound">σ</a> <a id="4179" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="4181" href="CtxTyp.Depth.html#4181" class="Bound">e</a><a id="4182" class="Symbol">)</a> <a id="4184" href="Data.StagedList.html#5871" class="InductiveConstructor">Z</a> <a id="4186" class="Symbol">=</a> <a id="4188" href="CtxTyp.Depth.html#4181" class="Bound">e</a>
<a id="4190" href="CtxTyp.Depth.html#4104" class="Function">lookupᵈ</a> <a id="4198" class="Symbol">(</a><a id="4199" href="CtxTyp.Depth.html#4199" class="Bound">σ</a> <a id="4201" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="4203" href="CtxTyp.Depth.html#4203" class="Bound">e</a><a id="4204" class="Symbol">)</a> <a id="4206" class="Symbol">(</a><a id="4207" href="Data.StagedList.html#5906" class="InductiveConstructor">S</a> <a id="4209" href="CtxTyp.Depth.html#4209" class="Bound">x</a><a id="4210" class="Symbol">)</a> <a id="4212" class="Symbol">=</a> <a id="4214" href="CtxTyp.Depth.html#4104" class="Function">lookupᵈ</a> <a id="4222" href="CtxTyp.Depth.html#4199" class="Bound">σ</a> <a id="4224" href="CtxTyp.Depth.html#4209" class="Bound">x</a>
<a id="4226" href="CtxTyp.Depth.html#4104" class="Function">lookupᵈ</a> <a id="4234" class="Symbol">(</a><a id="4235" href="CtxTyp.Depth.html#4235" class="Bound">σ₁</a> <a id="4238" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="4243" href="CtxTyp.Depth.html#4243" class="Bound">σ₂</a><a id="4245" class="Symbol">)</a> <a id="4247" class="Symbol">(</a><a id="4248" href="Data.StagedList.html#5960" class="InductiveConstructor">L</a> <a id="4250" href="CtxTyp.Depth.html#4250" class="Bound">x</a><a id="4251" class="Symbol">)</a> <a id="4253" class="Symbol">=</a> <a id="4255" href="CtxTyp.Depth.html#4104" class="Function">lookupᵈ</a> <a id="4263" href="CtxTyp.Depth.html#4235" class="Bound">σ₁</a> <a id="4266" href="CtxTyp.Depth.html#4250" class="Bound">x</a>
<a id="4268" href="CtxTyp.Depth.html#4104" class="Function">lookupᵈ</a> <a id="4276" class="Symbol">(</a><a id="4277" href="CtxTyp.Depth.html#4277" class="Bound">σ₁</a> <a id="4280" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="4285" href="CtxTyp.Depth.html#4285" class="Bound">σ₂</a><a id="4287" class="Symbol">)</a> <a id="4289" class="Symbol">(</a><a id="4290" href="Data.StagedList.html#6006" class="InductiveConstructor">R</a> <a id="4292" href="CtxTyp.Depth.html#4292" class="Bound">x</a><a id="4293" class="Symbol">)</a> <a id="4295" class="Symbol">=</a> <a id="4297" href="CtxTyp.Depth.html#4104" class="Function">lookupᵈ</a> <a id="4305" href="CtxTyp.Depth.html#4285" class="Bound">σ₂</a> <a id="4308" href="CtxTyp.Depth.html#4292" class="Bound">x</a>

<a id="4311" class="Comment">-- | If a function f returns a substitution entry with depth at most d for each variable,</a>
<a id="4401" class="Comment">-- then lookup⁻¹ f returns a substitution with depth at most d.</a>
<a id="lookup⁻¹ᵈ"></a><a id="4465" href="CtxTyp.Depth.html#4465" class="Function">lookup⁻¹ᵈ</a> <a id="4475" class="Symbol">:</a> <a id="4477" class="Symbol">{</a><a id="4478" href="CtxTyp.Depth.html#4478" class="Bound">f</a> <a id="4480" class="Symbol">:</a> <a id="4482" class="Symbol">∀</a> <a id="4484" class="Symbol">{</a><a id="4485" href="CtxTyp.Depth.html#4485" class="Bound">m</a><a id="4486" class="Symbol">}</a> <a id="4488" class="Symbol">{</a><a id="4489" href="CtxTyp.Depth.html#4489" class="Bound">Δ</a><a id="4490" class="Symbol">}</a> <a id="4492" class="Symbol">{</a><a id="4493" href="CtxTyp.Depth.html#4493" class="Bound">A</a><a id="4494" class="Symbol">}</a> <a id="4496" class="Symbol">{</a><a id="4497" href="CtxTyp.Depth.html#4497" class="Bound">m≥n</a> <a id="4501" class="Symbol">:</a> <a id="4503" href="CtxTyp.Depth.html#4485" class="Bound">m</a> <a id="4505" href="Data.Nat.Base.html#8799" class="Function Operator">≥‴</a> <a id="4508" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="4509" class="Symbol">}</a> <a id="4511" class="Symbol">→</a> <a id="4513" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="4515" href="Data.StagedList.html#5816" class="Datatype Operator">∋[</a> <a id="4518" href="CtxTyp.Depth.html#4489" class="Bound">Δ</a> <a id="4520" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="4522" href="CtxTyp.Depth.html#4493" class="Bound">A</a> <a id="4524" href="Data.StagedList.html#5816" class="Datatype Operator">^</a> <a id="4526" href="CtxTyp.Depth.html#4497" class="Bound">m≥n</a> <a id="4530" href="Data.StagedList.html#5816" class="Datatype Operator">]</a> <a id="4532" class="Symbol">→</a> <a id="4534" href="CtxTyp.Context.html#511" class="Generalizable">Γ′</a> <a id="4537" href="CtxTyp.Term.html#929" class="Datatype Operator">⊩[</a> <a id="4540" href="CtxTyp.Depth.html#4489" class="Bound">Δ</a> <a id="4542" href="CtxTyp.Term.html#929" class="Datatype Operator">⊢</a> <a id="4544" href="CtxTyp.Depth.html#4493" class="Bound">A</a> <a id="4546" href="CtxTyp.Term.html#929" class="Datatype Operator">^</a> <a id="4548" href="CtxTyp.Depth.html#4497" class="Bound">m≥n</a> <a id="4552" href="CtxTyp.Term.html#929" class="Datatype Operator">]</a><a id="4553" class="Symbol">}</a> <a id="4555" class="Symbol">→</a>
  <a id="4559" class="Symbol">(∀</a> <a id="4562" class="Symbol">{</a><a id="4563" href="CtxTyp.Depth.html#4563" class="Bound">m</a><a id="4564" class="Symbol">}</a> <a id="4566" class="Symbol">{</a><a id="4567" href="CtxTyp.Depth.html#4567" class="Bound">Δ</a><a id="4568" class="Symbol">}</a> <a id="4570" class="Symbol">{</a><a id="4571" href="CtxTyp.Depth.html#4571" class="Bound">A</a><a id="4572" class="Symbol">}</a> <a id="4574" class="Symbol">{</a><a id="4575" href="CtxTyp.Depth.html#4575" class="Bound">m≥n</a> <a id="4579" class="Symbol">:</a> <a id="4581" href="CtxTyp.Depth.html#4563" class="Bound">m</a> <a id="4583" href="Data.Nat.Base.html#8799" class="Function Operator">≥‴</a> <a id="4586" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="4587" class="Symbol">}</a> <a id="4589" class="Symbol">→</a> <a id="4591" class="Symbol">(</a><a id="4592" href="CtxTyp.Depth.html#4592" class="Bound">x</a> <a id="4594" class="Symbol">:</a> <a id="4596" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="4598" href="Data.StagedList.html#5816" class="Datatype Operator">∋[</a> <a id="4601" href="CtxTyp.Depth.html#4567" class="Bound">Δ</a> <a id="4603" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="4605" href="CtxTyp.Depth.html#4571" class="Bound">A</a> <a id="4607" href="Data.StagedList.html#5816" class="Datatype Operator">^</a> <a id="4609" href="CtxTyp.Depth.html#4575" class="Bound">m≥n</a> <a id="4613" href="Data.StagedList.html#5816" class="Datatype Operator">]</a><a id="4614" class="Symbol">)</a> <a id="4616" class="Symbol">→</a> <a id="4618" href="CtxTyp.Depth.html#4478" class="Bound">f</a> <a id="4620" href="CtxTyp.Depth.html#4592" class="Bound">x</a> <a id="4622" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="4626" href="CtxTyp.Depth.html#452" class="Generalizable">d</a><a id="4627" class="Symbol">)</a> <a id="4629" class="Symbol">→</a> <a id="4631" href="CtxTyp.Term.html#1896" class="Function">lookup⁻¹</a> <a id="4640" href="CtxTyp.Depth.html#4478" class="Bound">f</a> <a id="4642" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="4646" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="4648" href="CtxTyp.Depth.html#4465" class="Function">lookup⁻¹ᵈ</a> <a id="4658" class="Symbol">{</a><a id="4659" class="Argument">Γ</a> <a id="4661" class="Symbol">=</a> <a id="4663" href="Data.StagedList.html#1909" class="InductiveConstructor">∅</a><a id="4664" class="Symbol">}</a> <a id="4666" href="CtxTyp.Depth.html#4666" class="Bound">fᵈ</a> <a id="4669" class="Symbol">=</a> <a id="4671" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a>
<a id="4673" href="CtxTyp.Depth.html#4465" class="Function">lookup⁻¹ᵈ</a> <a id="4683" class="Symbol">{</a><a id="4684" class="Argument">Γ</a> <a id="4686" class="Symbol">=</a> <a id="4688" href="CtxTyp.Depth.html#4688" class="Bound">Γ</a> <a id="4690" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="4693" class="Symbol">_</a> <a id="4695" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="4697" class="Symbol">_</a> <a id="4699" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="4701" class="Symbol">_</a> <a id="4703" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="4704" class="Symbol">}</a> <a id="4706" href="CtxTyp.Depth.html#4706" class="Bound">fᵈ</a> <a id="4709" class="Symbol">=</a> <a id="4711" href="CtxTyp.Depth.html#4465" class="Function">lookup⁻¹ᵈ</a> <a id="4721" class="Symbol">(λ</a> <a id="4724" href="CtxTyp.Depth.html#4724" class="Bound">x</a> <a id="4726" class="Symbol">→</a> <a id="4728" href="CtxTyp.Depth.html#4706" class="Bound">fᵈ</a> <a id="4731" class="Symbol">(</a><a id="4732" href="Data.StagedList.html#5906" class="InductiveConstructor">S</a> <a id="4734" href="CtxTyp.Depth.html#4724" class="Bound">x</a><a id="4735" class="Symbol">))</a> <a id="4738" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="4740" href="CtxTyp.Depth.html#4706" class="Bound">fᵈ</a> <a id="4743" href="Data.StagedList.html#5871" class="InductiveConstructor">Z</a>
<a id="4745" href="CtxTyp.Depth.html#4465" class="Function">lookup⁻¹ᵈ</a> <a id="4755" class="Symbol">{</a><a id="4756" class="Argument">Γ</a> <a id="4758" class="Symbol">=</a> <a id="4760" href="CtxTyp.Depth.html#4760" class="Bound">Γ₁</a> <a id="4763" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="4766" href="CtxTyp.Depth.html#4766" class="Bound">Γ₂</a><a id="4768" class="Symbol">}</a> <a id="4770" href="CtxTyp.Depth.html#4770" class="Bound">fᵈ</a> <a id="4773" class="Symbol">=</a> <a id="4775" href="CtxTyp.Depth.html#4465" class="Function">lookup⁻¹ᵈ</a> <a id="4785" class="Symbol">(λ</a> <a id="4788" href="CtxTyp.Depth.html#4788" class="Bound">x</a> <a id="4790" class="Symbol">→</a> <a id="4792" href="CtxTyp.Depth.html#4770" class="Bound">fᵈ</a> <a id="4795" class="Symbol">(</a><a id="4796" href="Data.StagedList.html#5960" class="InductiveConstructor">L</a> <a id="4798" href="CtxTyp.Depth.html#4788" class="Bound">x</a><a id="4799" class="Symbol">))</a> <a id="4802" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="4807" href="CtxTyp.Depth.html#4465" class="Function">lookup⁻¹ᵈ</a> <a id="4817" class="Symbol">(λ</a> <a id="4820" href="CtxTyp.Depth.html#4820" class="Bound">x</a> <a id="4822" class="Symbol">→</a> <a id="4824" href="CtxTyp.Depth.html#4770" class="Bound">fᵈ</a> <a id="4827" class="Symbol">(</a><a id="4828" href="Data.StagedList.html#6006" class="InductiveConstructor">R</a> <a id="4830" href="CtxTyp.Depth.html#4820" class="Bound">x</a><a id="4831" class="Symbol">))</a>

<a id="4835" class="Comment">-- | renameSubstItem preserves depth upper bounds.</a>
<a id="renameSubstItemᵈ"></a><a id="4886" href="CtxTyp.Depth.html#4886" class="Function">renameSubstItemᵈ</a> <a id="4903" class="Symbol">:</a> <a id="4905" class="Symbol">{</a><a id="4906" href="CtxTyp.Depth.html#4906" class="Bound">item</a> <a id="4911" class="Symbol">:</a> <a id="4913" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="4915" href="CtxTyp.Term.html#929" class="Datatype Operator">⊩[</a> <a id="4918" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a> <a id="4920" href="CtxTyp.Term.html#929" class="Datatype Operator">⊢</a> <a id="4922" href="CtxTyp.Context.html#486" class="Generalizable">A</a> <a id="4924" href="CtxTyp.Term.html#929" class="Datatype Operator">^</a> <a id="4926" href="Data.StagedList.html#857" class="Generalizable">m≥n</a> <a id="4930" href="CtxTyp.Term.html#929" class="Datatype Operator">]</a><a id="4931" class="Symbol">}</a> <a id="4933" class="Symbol">(</a><a id="4934" href="CtxTyp.Depth.html#4934" class="Bound">ρ</a> <a id="4936" class="Symbol">:</a> <a id="4938" href="Data.StagedList.html#10568" class="Function">Rename</a> <a id="4945" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="4947" href="CtxTyp.Context.html#511" class="Generalizable">Γ′</a><a id="4949" class="Symbol">)</a> <a id="4951" class="Symbol">→</a> <a id="4953" href="CtxTyp.Depth.html#4906" class="Bound">item</a> <a id="4958" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="4962" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="4964" class="Symbol">→</a> <a id="4966" href="CtxTyp.Term.html#3900" class="Function">renameSubstItem</a> <a id="4982" href="CtxTyp.Depth.html#4934" class="Bound">ρ</a> <a id="4984" href="CtxTyp.Depth.html#4906" class="Bound">item</a> <a id="4989" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="4993" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="4995" href="CtxTyp.Depth.html#4886" class="Function">renameSubstItemᵈ</a> <a id="5012" href="CtxTyp.Depth.html#5012" class="Bound">ρ</a> <a id="5014" class="Symbol">(</a><a id="5015" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="5020" href="CtxTyp.Depth.html#5020" class="Bound">Δ&lt;d</a><a id="5023" class="Symbol">)</a> <a id="5025" class="Symbol">=</a> <a id="5027" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="5032" href="CtxTyp.Depth.html#5020" class="Bound">Δ&lt;d</a>
<a id="5036" href="CtxTyp.Depth.html#4886" class="Function">renameSubstItemᵈ</a> <a id="5053" href="CtxTyp.Depth.html#5053" class="Bound">ρ</a> <a id="5055" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a> <a id="5059" class="Symbol">=</a> <a id="5061" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a>

<a id="5066" class="Comment">-- | renameSubst preserves depth upper bounds.</a>
<a id="renameSubstᵈ"></a><a id="5113" href="CtxTyp.Depth.html#5113" class="Function">renameSubstᵈ</a> <a id="5126" class="Symbol">:</a> <a id="5128" class="Symbol">(</a><a id="5129" href="CtxTyp.Depth.html#5129" class="Bound">ρ</a> <a id="5131" class="Symbol">:</a> <a id="5133" href="Data.StagedList.html#10568" class="Function">Rename</a> <a id="5140" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="5142" href="CtxTyp.Context.html#511" class="Generalizable">Γ′</a><a id="5144" class="Symbol">)</a> <a id="5146" class="Symbol">→</a> <a id="5148" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="5150" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="5154" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="5156" class="Symbol">→</a> <a id="5158" href="CtxTyp.Term.html#3823" class="Function">renameSubst</a> <a id="5170" href="CtxTyp.Depth.html#5129" class="Bound">ρ</a> <a id="5172" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="5174" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="5178" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="5180" href="CtxTyp.Depth.html#5113" class="Function">renameSubstᵈ</a> <a id="5193" href="CtxTyp.Depth.html#5193" class="Bound">ρ</a> <a id="5195" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a> <a id="5197" class="Symbol">=</a> <a id="5199" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a>
<a id="5201" href="CtxTyp.Depth.html#5113" class="Function">renameSubstᵈ</a> <a id="5214" href="CtxTyp.Depth.html#5214" class="Bound">ρ</a> <a id="5216" class="Symbol">(</a><a id="5217" href="CtxTyp.Depth.html#5217" class="Bound">σ</a> <a id="5219" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="5221" href="CtxTyp.Depth.html#5221" class="Bound">item</a><a id="5225" class="Symbol">)</a> <a id="5227" class="Symbol">=</a> <a id="5229" href="CtxTyp.Depth.html#5113" class="Function">renameSubstᵈ</a> <a id="5242" href="CtxTyp.Depth.html#5214" class="Bound">ρ</a> <a id="5244" href="CtxTyp.Depth.html#5217" class="Bound">σ</a> <a id="5246" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="5248" href="CtxTyp.Depth.html#4886" class="Function">renameSubstItemᵈ</a> <a id="5265" href="CtxTyp.Depth.html#5214" class="Bound">ρ</a> <a id="5267" href="CtxTyp.Depth.html#5221" class="Bound">item</a>
<a id="5272" href="CtxTyp.Depth.html#5113" class="Function">renameSubstᵈ</a> <a id="5285" href="CtxTyp.Depth.html#5285" class="Bound">ρ</a> <a id="5287" class="Symbol">(</a><a id="5288" href="CtxTyp.Depth.html#5288" class="Bound">σ₁</a> <a id="5291" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="5296" href="CtxTyp.Depth.html#5296" class="Bound">σ₂</a><a id="5298" class="Symbol">)</a> <a id="5300" class="Symbol">=</a> <a id="5302" href="CtxTyp.Depth.html#5113" class="Function">renameSubstᵈ</a> <a id="5315" href="CtxTyp.Depth.html#5285" class="Bound">ρ</a> <a id="5317" href="CtxTyp.Depth.html#5288" class="Bound">σ₁</a> <a id="5320" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="5325" href="CtxTyp.Depth.html#5113" class="Function">renameSubstᵈ</a> <a id="5338" href="CtxTyp.Depth.html#5285" class="Bound">ρ</a> <a id="5340" href="CtxTyp.Depth.html#5296" class="Bound">σ₂</a>

<a id="5344" class="Comment">-- | Lift creates a substitution with depth 0, so any upper bound d is valid.</a>
<a id="liftᵈ"></a><a id="5422" href="CtxTyp.Depth.html#5422" class="Function">liftᵈ</a> <a id="5428" class="Symbol">:</a> <a id="5430" class="Symbol">(</a><a id="5431" href="CtxTyp.Depth.html#5431" class="Bound">ρ</a> <a id="5433" class="Symbol">:</a> <a id="5435" href="Data.StagedList.html#10568" class="Function">Rename</a> <a id="5442" href="CtxTyp.Context.html#507" class="Generalizable">Γ</a> <a id="5444" href="CtxTyp.Context.html#511" class="Generalizable">Γ′</a><a id="5446" class="Symbol">)</a> <a id="5448" class="Symbol">→</a> <a id="5450" href="CtxTyp.Term.html#5023" class="Function">lift</a> <a id="5455" href="CtxTyp.Depth.html#5431" class="Bound">ρ</a> <a id="5457" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="5461" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="5463" href="CtxTyp.Depth.html#5422" class="Function">liftᵈ</a> <a id="5469" class="Symbol">{</a><a id="5470" class="Argument">Γ</a> <a id="5472" class="Symbol">=</a> <a id="5474" href="Data.StagedList.html#1909" class="InductiveConstructor">∅</a><a id="5475" class="Symbol">}</a> <a id="5477" href="CtxTyp.Depth.html#5477" class="Bound">ρ</a> <a id="5479" class="Symbol">=</a> <a id="5481" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a>
<a id="5483" href="CtxTyp.Depth.html#5422" class="Function">liftᵈ</a> <a id="5489" class="Symbol">{</a><a id="5490" class="Argument">Γ</a> <a id="5492" class="Symbol">=</a> <a id="5494" href="CtxTyp.Depth.html#5494" class="Bound">Γ</a> <a id="5496" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="5499" class="Symbol">_</a> <a id="5501" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="5503" class="Symbol">_</a> <a id="5505" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="5507" class="Symbol">_</a> <a id="5509" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="5510" class="Symbol">}</a> <a id="5512" href="CtxTyp.Depth.html#5512" class="Bound">ρ</a> <a id="5514" class="Symbol">=</a> <a id="5516" href="CtxTyp.Depth.html#5422" class="Function">liftᵈ</a> <a id="5522" class="Symbol">(</a><a id="5523" href="CtxTyp.Depth.html#5512" class="Bound">ρ</a> <a id="5525" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5527" href="Data.StagedList.html#5906" class="InductiveConstructor">S</a><a id="5528" class="Symbol">)</a> <a id="5530" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="5532" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a>
<a id="5536" href="CtxTyp.Depth.html#5422" class="Function">liftᵈ</a> <a id="5542" class="Symbol">{</a><a id="5543" class="Argument">Γ</a> <a id="5545" class="Symbol">=</a> <a id="5547" href="CtxTyp.Depth.html#5547" class="Bound">Γ</a> <a id="5549" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="5552" href="CtxTyp.Depth.html#5552" class="Bound">Δ</a><a id="5553" class="Symbol">}</a> <a id="5555" href="CtxTyp.Depth.html#5555" class="Bound">ρ</a> <a id="5557" class="Symbol">=</a> <a id="5559" href="CtxTyp.Depth.html#5422" class="Function">liftᵈ</a> <a id="5565" class="Symbol">{</a><a id="5566" class="Argument">Γ</a> <a id="5568" class="Symbol">=</a> <a id="5570" href="CtxTyp.Depth.html#5547" class="Bound">Γ</a><a id="5571" class="Symbol">}</a> <a id="5573" class="Symbol">(</a><a id="5574" href="CtxTyp.Depth.html#5555" class="Bound">ρ</a> <a id="5576" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5578" href="Data.StagedList.html#5960" class="InductiveConstructor">L</a><a id="5579" class="Symbol">)</a> <a id="5581" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="5586" href="CtxTyp.Depth.html#5422" class="Function">liftᵈ</a> <a id="5592" class="Symbol">{</a><a id="5593" class="Argument">Γ</a> <a id="5595" class="Symbol">=</a> <a id="5597" href="CtxTyp.Depth.html#5552" class="Bound">Δ</a><a id="5598" class="Symbol">}</a> <a id="5600" class="Symbol">(</a><a id="5601" href="CtxTyp.Depth.html#5555" class="Bound">ρ</a> <a id="5603" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5605" href="Data.StagedList.html#6006" class="InductiveConstructor">R</a><a id="5606" class="Symbol">)</a>

<a id="5609" class="Comment">-- | exts preserves depth upper bounds.</a>
<a id="extsᵈ"></a><a id="5649" href="CtxTyp.Depth.html#5649" class="Function">extsᵈ</a> <a id="5655" class="Symbol">:</a> <a id="5657" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="5659" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="5663" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="5665" class="Symbol">→</a> <a id="5667" href="CtxTyp.Term.html#5133" class="Function">exts</a> <a id="5672" class="Symbol">{</a><a id="5673" class="Argument">Δ</a> <a id="5675" class="Symbol">=</a> <a id="5677" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a><a id="5678" class="Symbol">}</a> <a id="5680" class="Symbol">{</a><a id="5681" class="Argument">A</a> <a id="5683" class="Symbol">=</a> <a id="5685" href="CtxTyp.Context.html#486" class="Generalizable">A</a><a id="5686" class="Symbol">}</a> <a id="5688" class="Symbol">{</a><a id="5689" class="Argument">m≥n</a> <a id="5693" class="Symbol">=</a> <a id="5695" href="Data.StagedList.html#857" class="Generalizable">m≥n</a><a id="5698" class="Symbol">}</a> <a id="5700" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="5702" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="5706" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="5708" href="CtxTyp.Depth.html#5649" class="Function">extsᵈ</a> <a id="5714" href="CtxTyp.Depth.html#5714" class="Bound">σ</a> <a id="5716" class="Symbol">=</a> <a id="5718" href="CtxTyp.Depth.html#5113" class="Function">renameSubstᵈ</a> <a id="5731" href="Data.StagedList.html#5906" class="InductiveConstructor">S</a> <a id="5733" href="CtxTyp.Depth.html#5714" class="Bound">σ</a> <a id="5735" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="5737" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a>

<a id="5742" class="Comment">-- | exts++ preserves depth upper bounds.</a>
<a id="exts++ᵈ"></a><a id="5784" href="CtxTyp.Depth.html#5784" class="Function">exts++ᵈ</a> <a id="5792" class="Symbol">:</a> <a id="5794" class="Symbol">∀</a> <a id="5796" href="CtxTyp.Depth.html#5796" class="Bound">Δ</a> <a id="5798" class="Symbol">→</a> <a id="5800" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a>  <a id="5803" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="5807" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="5809" class="Symbol">→</a> <a id="5811" href="CtxTyp.Term.html#5319" class="Function">exts++</a> <a id="5818" href="CtxTyp.Depth.html#5796" class="Bound">Δ</a> <a id="5820" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="5822" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="5826" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="5828" href="CtxTyp.Depth.html#5784" class="Function">exts++ᵈ</a> <a id="5836" href="CtxTyp.Depth.html#5836" class="Bound">Δ</a> <a id="5838" href="CtxTyp.Depth.html#5838" class="Bound">σ</a> <a id="5840" class="Symbol">=</a>  <a id="5843" href="CtxTyp.Depth.html#5113" class="Function">renameSubstᵈ</a> <a id="5856" href="Data.StagedList.html#5960" class="InductiveConstructor">L</a> <a id="5858" href="CtxTyp.Depth.html#5838" class="Bound">σ</a> <a id="5860" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="5865" href="CtxTyp.Depth.html#5422" class="Function">liftᵈ</a> <a id="5871" href="Data.StagedList.html#6006" class="InductiveConstructor">R</a>

<a id="5874" class="Comment">-- | exts↾ preserves depth upper bounds.</a>
<a id="exts↾ᵈ"></a><a id="5915" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="5922" class="Symbol">:</a> <a id="5924" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="5926" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="5930" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="5932" class="Symbol">→</a> <a id="5934" href="CtxTyp.Term.html#5772" class="Function">exts↾</a> <a id="5940" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="5942" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="5946" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="5948" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="5955" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a> <a id="5957" class="Symbol">=</a> <a id="5959" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a>
<a id="5961" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="5968" class="Symbol">(</a><a id="5969" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">_,_</a>  <a id="5974" class="Symbol">{</a><a id="5975" class="Argument">m≥n</a> <a id="5979" class="Symbol">=</a> <a id="5981" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a><a id="5988" class="Symbol">}</a> <a id="5990" href="CtxTyp.Depth.html#5990" class="Bound">σ</a> <a id="5992" class="Symbol">(</a><a id="5993" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="5998" href="CtxTyp.Depth.html#5998" class="Bound">e</a><a id="5999" class="Symbol">))</a> <a id="6002" class="Symbol">=</a> <a id="6004" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="6011" href="CtxTyp.Depth.html#5990" class="Bound">σ</a>
<a id="6013" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="6020" class="Symbol">(</a><a id="6021" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">_,_</a> <a id="6025" class="Symbol">{</a><a id="6026" class="Argument">m≥n</a> <a id="6030" class="Symbol">=</a> <a id="6032" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a> <a id="6040" href="CtxTyp.Depth.html#6040" class="Bound">m≥n</a><a id="6043" class="Symbol">}</a> <a id="6045" href="CtxTyp.Depth.html#6045" class="Bound">σ</a> <a id="6047" class="Symbol">(</a><a id="6048" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="6053" href="CtxTyp.Depth.html#6053" class="Bound">e</a><a id="6054" class="Symbol">))</a> <a id="6057" class="Symbol">=</a> <a id="6059" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="6066" href="CtxTyp.Depth.html#6045" class="Bound">σ</a> <a id="6068" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="6070" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="6075" href="CtxTyp.Depth.html#6053" class="Bound">e</a>
<a id="6077" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="6084" class="Symbol">(</a><a id="6085" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">_,_</a> <a id="6089" class="Symbol">{</a><a id="6090" class="Argument">m≥n</a> <a id="6094" class="Symbol">=</a> <a id="6096" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a><a id="6103" class="Symbol">}</a> <a id="6105" href="CtxTyp.Depth.html#6105" class="Bound">σ</a> <a id="6107" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a><a id="6110" class="Symbol">)</a> <a id="6112" class="Symbol">=</a> <a id="6114" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="6121" href="CtxTyp.Depth.html#6105" class="Bound">σ</a>
<a id="6123" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="6130" class="Symbol">(</a><a id="6131" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">_,_</a> <a id="6135" class="Symbol">{</a><a id="6136" class="Argument">m≥n</a> <a id="6140" class="Symbol">=</a> <a id="6142" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a> <a id="6150" href="CtxTyp.Depth.html#6150" class="Bound">m≥n</a><a id="6153" class="Symbol">}</a> <a id="6155" href="CtxTyp.Depth.html#6155" class="Bound">σ</a> <a id="6157" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a><a id="6160" class="Symbol">)</a> <a id="6162" class="Symbol">=</a> <a id="6164" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="6171" href="CtxTyp.Depth.html#6155" class="Bound">σ</a> <a id="6173" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="6175" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a>
<a id="6179" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="6186" class="Symbol">(</a><a id="6187" href="CtxTyp.Depth.html#6187" class="Bound">σ₁</a> <a id="6190" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="6195" href="CtxTyp.Depth.html#6195" class="Bound">σ₂</a><a id="6197" class="Symbol">)</a> <a id="6199" class="Symbol">=</a> <a id="6201" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="6208" href="CtxTyp.Depth.html#6187" class="Bound">σ₁</a> <a id="6211" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="6216" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="6223" href="CtxTyp.Depth.html#6195" class="Bound">σ₂</a>

<a id="6227" class="Comment">-- | exts↾≥ preserves depth upper bounds.</a>
<a id="exts↾≥ᵈ"></a><a id="6269" href="CtxTyp.Depth.html#6269" class="Function">exts↾≥ᵈ</a> <a id="6277" class="Symbol">:</a> <a id="6279" class="Symbol">(</a><a id="6280" href="CtxTyp.Depth.html#6280" class="Bound">m≥n</a> <a id="6284" class="Symbol">:</a> <a id="6286" href="Data.StagedList.html#841" class="Generalizable">m</a> <a id="6288" href="Data.Nat.Base.html#8799" class="Function Operator">≥‴</a> <a id="6291" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="6292" class="Symbol">)</a> <a id="6294" class="Symbol">→</a> <a id="6296" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="6298" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="6302" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="6304" class="Symbol">→</a> <a id="6306" href="CtxTyp.Term.html#6039" class="Function">exts↾≥</a> <a id="6313" href="CtxTyp.Depth.html#6280" class="Bound">m≥n</a> <a id="6317" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="6319" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="6323" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="6325" href="CtxTyp.Depth.html#6269" class="Function">exts↾≥ᵈ</a> <a id="6333" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a> <a id="6341" href="CtxTyp.Depth.html#6341" class="Bound">σ</a> <a id="6343" class="Symbol">=</a> <a id="6345" href="CtxTyp.Depth.html#6341" class="Bound">σ</a>
<a id="6347" href="CtxTyp.Depth.html#6269" class="Function">exts↾≥ᵈ</a> <a id="6355" class="Symbol">(</a><a id="6356" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a> <a id="6364" href="CtxTyp.Depth.html#6364" class="Bound">m≥n</a><a id="6367" class="Symbol">)</a> <a id="6369" href="CtxTyp.Depth.html#6369" class="Bound">σ</a> <a id="6371" class="Symbol">=</a> <a id="6373" href="CtxTyp.Depth.html#6269" class="Function">exts↾≥ᵈ</a> <a id="6381" href="CtxTyp.Depth.html#6364" class="Bound">m≥n</a> <a id="6385" class="Symbol">(</a><a id="6386" href="CtxTyp.Depth.html#5915" class="Function">exts↾ᵈ</a> <a id="6393" href="CtxTyp.Depth.html#6369" class="Bound">σ</a><a id="6394" class="Symbol">)</a>

<a id="6397" class="Comment">-- | ⊩[]-inject₁⁻ preserves depth upper bounds.</a>
<a id="⊩[]-inject₁⁻ᵈ"></a><a id="6445" href="CtxTyp.Depth.html#6445" class="Function">⊩[]-inject₁⁻ᵈ</a> <a id="6459" class="Symbol">:</a> <a id="6461" class="Symbol">{</a><a id="6462" href="CtxTyp.Depth.html#6462" class="Bound">Γ</a> <a id="6464" class="Symbol">:</a> <a id="6466" href="CtxTyp.Context.html#431" class="Datatype">Context</a> <a id="6474" class="Symbol">(</a><a id="6475" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6479" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="6480" class="Symbol">)}</a> <a id="6483" class="Symbol">→</a> <a id="6485" class="Symbol">{</a><a id="6486" href="CtxTyp.Depth.html#6486" class="Bound">item</a> <a id="6491" class="Symbol">:</a> <a id="6493" href="Data.StagedList.html#2668" class="Function">inject₁</a> <a id="6501" href="CtxTyp.Depth.html#6462" class="Bound">Γ</a> <a id="6503" href="CtxTyp.Term.html#929" class="Datatype Operator">⊩[</a> <a id="6506" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a> <a id="6508" href="CtxTyp.Term.html#929" class="Datatype Operator">⊢</a> <a id="6510" href="CtxTyp.Context.html#486" class="Generalizable">A</a> <a id="6512" href="CtxTyp.Term.html#929" class="Datatype Operator">^</a> <a id="6514" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a> <a id="6522" href="Data.StagedList.html#857" class="Generalizable">m≥n</a> <a id="6526" href="CtxTyp.Term.html#929" class="Datatype Operator">]</a><a id="6527" class="Symbol">}</a> <a id="6529" class="Symbol">→</a> <a id="6531" href="CtxTyp.Depth.html#6486" class="Bound">item</a> <a id="6536" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="6540" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="6542" class="Symbol">→</a> <a id="6544" href="CtxTyp.Term.html#7040" class="Function">⊩[]-inject₁⁻</a> <a id="6557" href="CtxTyp.Depth.html#6486" class="Bound">item</a> <a id="6562" href="CtxTyp.Depth.html#1375" class="Datatype Operator">≤ᵈ″</a> <a id="6566" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="6568" href="CtxTyp.Depth.html#6445" class="Function">⊩[]-inject₁⁻ᵈ</a> <a id="6582" class="Symbol">(</a><a id="6583" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="6588" href="CtxTyp.Depth.html#6588" class="Bound">Δ≤d</a><a id="6591" class="Symbol">)</a> <a id="6593" class="Symbol">=</a> <a id="6595" href="CtxTyp.Depth.html#1424" class="InductiveConstructor">term</a> <a id="6600" href="CtxTyp.Depth.html#6588" class="Bound">Δ≤d</a>
<a id="6604" href="CtxTyp.Depth.html#6445" class="Function">⊩[]-inject₁⁻ᵈ</a> <a id="6618" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a> <a id="6622" class="Symbol">=</a> <a id="6624" href="CtxTyp.Depth.html#1469" class="InductiveConstructor">var</a>

<a id="6629" class="Comment">-- | ⊩-inject₁⁻ preserves depth upper bounds.</a>
<a id="⊩-inject₁⁻ᵈ"></a><a id="6675" href="CtxTyp.Depth.html#6675" class="Function">⊩-inject₁⁻ᵈ</a> <a id="6687" class="Symbol">:</a> <a id="6689" class="Symbol">{</a><a id="6690" href="CtxTyp.Depth.html#6690" class="Bound">Γ</a> <a id="6692" href="CtxTyp.Depth.html#6692" class="Bound">Δ</a> <a id="6694" class="Symbol">:</a> <a id="6696" href="CtxTyp.Context.html#431" class="Datatype">Context</a> <a id="6704" class="Symbol">(</a><a id="6705" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6709" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="6710" class="Symbol">)}</a> <a id="6713" class="Symbol">{</a><a id="6714" href="CtxTyp.Depth.html#6714" class="Bound">σ</a> <a id="6716" class="Symbol">:</a> <a id="6718" href="Data.StagedList.html#2668" class="Function">inject₁</a> <a id="6726" href="CtxTyp.Depth.html#6690" class="Bound">Γ</a> <a id="6728" href="CtxTyp.Term.html#1380" class="Datatype Operator">⊩</a> <a id="6730" href="Data.StagedList.html#2668" class="Function">inject₁</a> <a id="6738" href="CtxTyp.Depth.html#6692" class="Bound">Δ</a><a id="6739" class="Symbol">}</a> <a id="6741" class="Symbol">→</a> <a id="6743" href="CtxTyp.Depth.html#6714" class="Bound">σ</a> <a id="6745" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="6749" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="6751" class="Symbol">→</a> <a id="6753" href="CtxTyp.Term.html#7569" class="Function">⊩-inject₁⁻</a> <a id="6764" href="CtxTyp.Depth.html#6714" class="Bound">σ</a> <a id="6766" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="6770" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="6772" href="CtxTyp.Depth.html#6675" class="Function">⊩-inject₁⁻ᵈ</a> <a id="6784" class="Symbol">{</a><a id="6785" class="Argument">Δ</a> <a id="6787" class="Symbol">=</a> <a id="6789" href="Data.StagedList.html#1909" class="InductiveConstructor">∅</a><a id="6790" class="Symbol">}</a> <a id="6792" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a> <a id="6794" class="Symbol">=</a> <a id="6796" href="CtxTyp.Depth.html#1696" class="InductiveConstructor">∅</a>
<a id="6798" href="CtxTyp.Depth.html#6675" class="Function">⊩-inject₁⁻ᵈ</a> <a id="6810" class="Symbol">{</a><a id="6811" class="Argument">Δ</a> <a id="6813" class="Symbol">=</a> <a id="6815" href="CtxTyp.Depth.html#6815" class="Bound">Δ</a> <a id="6817" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="6820" href="CtxTyp.Depth.html#6820" class="Bound">Δ′</a> <a id="6823" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="6825" href="CtxTyp.Depth.html#6825" class="Bound">A</a> <a id="6827" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="6829" href="CtxTyp.Depth.html#6829" class="Bound">m≥n</a> <a id="6833" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="6834" class="Symbol">}</a> <a id="6836" class="Symbol">(</a><a id="6837" href="CtxTyp.Depth.html#6837" class="Bound">σᵈ</a> <a id="6840" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="6842" href="CtxTyp.Depth.html#6842" class="Bound">itemᵈ</a><a id="6847" class="Symbol">)</a> <a id="6849" class="Symbol">=</a> <a id="6851" href="CtxTyp.Depth.html#6675" class="Function">⊩-inject₁⁻ᵈ</a> <a id="6863" href="CtxTyp.Depth.html#6837" class="Bound">σᵈ</a> <a id="6866" href="CtxTyp.Depth.html#1710" class="InductiveConstructor Operator">,</a> <a id="6868" href="CtxTyp.Depth.html#6445" class="Function">⊩[]-inject₁⁻ᵈ</a> <a id="6882" href="CtxTyp.Depth.html#6842" class="Bound">itemᵈ</a>
<a id="6888" href="CtxTyp.Depth.html#6675" class="Function">⊩-inject₁⁻ᵈ</a> <a id="6900" class="Symbol">{</a><a id="6901" class="Argument">Δ</a> <a id="6903" class="Symbol">=</a> <a id="6905" href="CtxTyp.Depth.html#6905" class="Bound">Δ₁</a> <a id="6908" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="6911" href="CtxTyp.Depth.html#6911" class="Bound">Δ₂</a><a id="6913" class="Symbol">}</a> <a id="6915" class="Symbol">(</a><a id="6916" href="CtxTyp.Depth.html#6916" class="Bound">σ₁ᵈ</a> <a id="6920" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="6925" href="CtxTyp.Depth.html#6925" class="Bound">σ₂ᵈ</a><a id="6928" class="Symbol">)</a> <a id="6930" class="Symbol">=</a> <a id="6932" href="CtxTyp.Depth.html#6675" class="Function">⊩-inject₁⁻ᵈ</a> <a id="6944" href="CtxTyp.Depth.html#6916" class="Bound">σ₁ᵈ</a> <a id="6948" href="CtxTyp.Depth.html#1789" class="InductiveConstructor Operator">++ˢᵈ</a> <a id="6953" href="CtxTyp.Depth.html#6675" class="Function">⊩-inject₁⁻ᵈ</a> <a id="6965" href="CtxTyp.Depth.html#6925" class="Bound">σ₂ᵈ</a>
 
<a id="6971" class="Comment">-- | renameSubstʳ preserves depth upper bounds.</a>
<a id="renameSubstʳᵈ"></a><a id="7019" href="CtxTyp.Depth.html#7019" class="Function">renameSubstʳᵈ</a> <a id="7033" class="Symbol">:</a> <a id="7035" class="Symbol">(</a><a id="7036" href="CtxTyp.Depth.html#7036" class="Bound">ρ</a> <a id="7038" class="Symbol">:</a> <a id="7040" href="Data.StagedList.html#10568" class="Function">Rename</a> <a id="7047" href="CtxTyp.Context.html#514" class="Generalizable">Δ′</a> <a id="7050" href="CtxTyp.Context.html#509" class="Generalizable">Δ</a><a id="7051" class="Symbol">)</a> <a id="7053" class="Symbol">→</a> <a id="7055" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="7057" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="7061" href="CtxTyp.Depth.html#452" class="Generalizable">d</a> <a id="7063" class="Symbol">→</a> <a id="7065" href="CtxTyp.Term.html#4887" class="Function">renameSubstʳ</a> <a id="7078" href="CtxTyp.Depth.html#7036" class="Bound">ρ</a> <a id="7080" href="CtxTyp.Depth.html#463" class="Generalizable">σ</a> <a id="7082" href="CtxTyp.Depth.html#1641" class="Datatype Operator">≤ᵈ′</a> <a id="7086" href="CtxTyp.Depth.html#452" class="Generalizable">d</a>
<a id="7088" href="CtxTyp.Depth.html#7019" class="Function">renameSubstʳᵈ</a> <a id="7102" href="CtxTyp.Depth.html#7102" class="Bound">ρ</a> <a id="7104" href="CtxTyp.Depth.html#7104" class="Bound">σᵈ</a> <a id="7107" class="Symbol">=</a> <a id="7109" href="CtxTyp.Depth.html#4465" class="Function">lookup⁻¹ᵈ</a> <a id="7119" class="Symbol">λ</a> <a id="7121" href="CtxTyp.Depth.html#7121" class="Bound">x</a> <a id="7123" class="Symbol">→</a> <a id="7125" href="CtxTyp.Depth.html#4104" class="Function">lookupᵈ</a> <a id="7133" href="CtxTyp.Depth.html#7104" class="Bound">σᵈ</a> <a id="7136" class="Symbol">(</a><a id="7137" href="CtxTyp.Depth.html#7102" class="Bound">ρ</a> <a id="7139" href="CtxTyp.Depth.html#7121" class="Bound">x</a><a id="7140" class="Symbol">)</a>