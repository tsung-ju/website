<a id="1" class="Comment">{-|
This module defines the denotational semantics of λ○▷pat,
as described in section 7.1-7.3.
-}</a>

<a id="100" class="Symbol">{-#</a> <a id="104" class="Keyword">OPTIONS</a> <a id="112" class="Pragma">--safe</a> <a id="119" class="Symbol">#-}</a>
<a id="123" class="Symbol">{-#</a> <a id="127" class="Keyword">OPTIONS</a> <a id="135" class="Pragma">--with-K</a> <a id="144" class="Symbol">#-}</a>
<a id="148" class="Keyword">module</a> <a id="155" href="Pat.Denotational.html" class="Module">Pat.Denotational</a> <a id="172" class="Keyword">where</a>

<a id="179" class="Keyword">open</a> <a id="184" class="Keyword">import</a> <a id="191" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="201" class="Keyword">using</a> <a id="207" class="Symbol">(</a><a id="208" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="212" class="Symbol">;</a> <a id="214" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="218" class="Symbol">;</a> <a id="220" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="225" class="Symbol">;</a> <a id="227" href="Data.Bool.Base.html#1505" class="Function Operator">if_then_else_</a><a id="240" class="Symbol">)</a>
<a id="242" class="Keyword">open</a> <a id="247" class="Keyword">import</a> <a id="254" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="265" class="Keyword">using</a> <a id="271" class="Symbol">(</a><a id="272" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="277" class="Symbol">;</a> <a id="279" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="283" class="Symbol">;</a> <a id="285" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="292" class="Symbol">)</a>
<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="315" class="Keyword">using</a> <a id="321" class="Symbol">(</a><a id="322" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="323" class="Symbol">;</a> <a id="325" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="328" class="Symbol">;</a> <a id="330" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="334" class="Symbol">;</a> <a id="336" href="Data.Nat.Base.html#8799" class="Function Operator">_≥‴_</a><a id="340" class="Symbol">;</a> <a id="342" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a><a id="349" class="Symbol">;</a> <a id="351" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a><a id="358" class="Symbol">)</a>
<a id="360" class="Keyword">open</a> <a id="365" class="Keyword">import</a> <a id="372" href="Data.Product.html" class="Module">Data.Product</a> <a id="385" class="Symbol">as</a> <a id="388" class="Module">P</a> <a id="390" class="Keyword">using</a> <a id="396" class="Symbol">(</a><a id="397" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="400" class="Symbol">;</a> <a id="402" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="407" class="Symbol">;</a> <a id="409" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="414" class="Symbol">)</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="438" class="Keyword">using</a> <a id="444" class="Symbol">(</a><a id="445" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="446" class="Symbol">;</a> <a id="448" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="450" class="Symbol">)</a>
<a id="452" class="Keyword">open</a> <a id="457" class="Keyword">import</a> <a id="464" href="Function.html" class="Module">Function</a> <a id="473" class="Keyword">using</a> <a id="479" class="Symbol">(</a><a id="480" href="Function.Base.html#704" class="Function">id</a><a id="482" class="Symbol">;</a> <a id="484" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="487" class="Symbol">;</a> <a id="489" href="Function.Base.html#4042" class="Function Operator">case_of_</a><a id="497" class="Symbol">)</a>
<a id="499" class="Keyword">open</a> <a id="504" class="Keyword">import</a> <a id="511" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="538" class="Keyword">using</a> <a id="544" class="Symbol">(</a><a id="545" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a><a id="548" class="Symbol">;</a> <a id="550" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a><a id="552" class="Symbol">)</a>
<a id="554" class="Keyword">open</a> <a id="559" class="Keyword">import</a> <a id="566" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="604" class="Keyword">using</a> <a id="610" class="Symbol">(</a><a id="611" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="614" class="Symbol">;</a> <a id="616" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="620" class="Symbol">;</a> <a id="622" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a><a id="626" class="Symbol">;</a> <a id="628" href="Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a><a id="633" class="Symbol">)</a>

<a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Pat.Context.html" class="Module">Pat.Context</a>
<a id="660" class="Keyword">open</a> <a id="665" class="Keyword">import</a> <a id="672" href="Pat.Context.Equality.html" class="Module">Pat.Context.Equality</a>
<a id="693" class="Keyword">open</a> <a id="698" class="Keyword">import</a> <a id="705" href="Pat.Term.html" class="Module">Pat.Term</a>
<a id="714" class="Keyword">open</a> <a id="719" class="Keyword">import</a> <a id="726" href="Pat.Depth.html" class="Module">Pat.Depth</a>
<a id="736" class="Keyword">open</a> <a id="741" class="Keyword">import</a> <a id="748" href="Pat.Matching.html" class="Module">Pat.Matching</a>
<a id="761" class="Keyword">open</a> <a id="766" class="Keyword">import</a> <a id="773" href="Pat.Rewriting.html" class="Module">Pat.Rewriting</a>
<a id="787" class="Keyword">open</a> <a id="792" class="Keyword">import</a> <a id="799" href="Pat.Substitution.html" class="Module">Pat.Substitution</a>


<a id="818" class="Comment">-- | Type interpretation.</a>
<a id="⟦_⟧"></a><a id="844" href="Pat.Denotational.html#844" class="Function Operator">⟦_⟧</a> <a id="848" class="Symbol">:</a> <a id="850" href="Pat.Context.html#384" class="Datatype">Type</a> <a id="855" href="Data.StagedList.html#843" class="Generalizable">n</a> <a id="857" class="Symbol">→</a> <a id="859" href="Pat.Context.html#502" class="Datatype">Context</a> <a id="867" class="Symbol">(</a><a id="868" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="872" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="873" class="Symbol">)</a> <a id="875" class="Symbol">→</a> <a id="877" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="881" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="883" href="Pat.Context.html#1043" class="InductiveConstructor Operator">[</a> <a id="885" href="Pat.Denotational.html#885" class="Bound">Δ</a> <a id="887" href="Pat.Context.html#1043" class="InductiveConstructor Operator">⊢</a> <a id="889" href="Pat.Denotational.html#889" class="Bound">A</a> <a id="891" href="Pat.Context.html#1043" class="InductiveConstructor Operator">]⇒</a> <a id="894" href="Pat.Denotational.html#894" class="Bound">B</a> <a id="896" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="898" href="Pat.Denotational.html#898" class="Bound">Γ</a> <a id="900" class="Symbol">=</a> <a id="902" class="Symbol">∀</a> <a id="904" class="Symbol">{</a><a id="905" href="Pat.Denotational.html#905" class="Bound">Γ′</a><a id="907" class="Symbol">}</a> <a id="909" class="Symbol">→</a> <a id="911" href="Pat.Term.html#2470" class="Function">Subst</a> <a id="917" href="Pat.Denotational.html#898" class="Bound">Γ</a> <a id="919" href="Pat.Denotational.html#905" class="Bound">Γ′</a> <a id="922" class="Symbol">→</a> <a id="924" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="926" href="Pat.Denotational.html#889" class="Bound">A</a> <a id="928" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="930" class="Symbol">(</a><a id="931" href="Pat.Denotational.html#905" class="Bound">Γ′</a> <a id="934" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="937" href="Pat.Denotational.html#885" class="Bound">Δ</a><a id="938" class="Symbol">)</a> <a id="940" class="Symbol">→</a> <a id="942" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="944" href="Pat.Denotational.html#894" class="Bound">B</a> <a id="946" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="948" href="Pat.Denotational.html#905" class="Bound">Γ′</a>
<a id="951" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="953" href="Pat.Denotational.html#953" class="Bound">Δ</a> <a id="955" href="Pat.Context.html#1116" class="InductiveConstructor Operator">▷</a> <a id="957" href="Pat.Denotational.html#957" class="Bound">A</a> <a id="959" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="961" href="Pat.Denotational.html#961" class="Bound">Γ</a> <a id="963" class="Symbol">=</a> <a id="965" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="967" href="Pat.Denotational.html#957" class="Bound">A</a> <a id="969" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="971" class="Symbol">(</a><a id="972" href="Pat.Denotational.html#961" class="Bound">Γ</a> <a id="974" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="977" href="Pat.Denotational.html#953" class="Bound">Δ</a><a id="978" class="Symbol">)</a>
<a id="980" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="982" href="Pat.Context.html#1170" class="InductiveConstructor">`Bool</a> <a id="988" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="990" href="Pat.Denotational.html#990" class="Bound">Γ</a> <a id="992" class="Symbol">=</a> <a id="994" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="999" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="1001" href="Pat.Context.html#1187" class="InductiveConstructor">◯</a> <a id="1003" href="Pat.Denotational.html#1003" class="Bound">A</a> <a id="1005" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="1007" href="Pat.Denotational.html#1007" class="Bound">Γ</a> <a id="1009" class="Symbol">=</a> <a id="1011" href="Pat.Term.html#560" class="Datatype">Term</a> <a id="1016" class="Symbol">(</a><a id="1017" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1021" class="Symbol">_)</a> <a id="1024" href="Pat.Denotational.html#1007" class="Bound">Γ</a> <a id="1026" href="Pat.Denotational.html#1003" class="Bound">A</a>

<a id="1029" class="Comment">-- | Type interpretation is monotonic in the context.</a>
<a id="subst⟦_⟧"></a><a id="1083" href="Pat.Denotational.html#1083" class="Function Operator">subst⟦_⟧</a> <a id="1092" class="Symbol">:</a> <a id="1094" class="Symbol">∀</a> <a id="1096" href="Pat.Denotational.html#1096" class="Bound">A</a> <a id="1098" class="Symbol">→</a> <a id="1100" href="Pat.Term.html#2470" class="Function">Subst</a> <a id="1106" href="Pat.Context.html#608" class="Generalizable">Γ₁</a> <a id="1109" href="Pat.Context.html#611" class="Generalizable">Γ₂</a> <a id="1112" class="Symbol">→</a> <a id="1114" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="1116" href="Pat.Denotational.html#1096" class="Bound">A</a> <a id="1118" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="1120" href="Pat.Context.html#608" class="Generalizable">Γ₁</a> <a id="1123" class="Symbol">→</a> <a id="1125" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="1127" href="Pat.Denotational.html#1096" class="Bound">A</a> <a id="1129" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="1131" href="Pat.Context.html#611" class="Generalizable">Γ₂</a>
<a id="1134" href="Pat.Denotational.html#1083" class="Function Operator">subst⟦</a> <a id="1141" href="Pat.Context.html#1043" class="InductiveConstructor Operator">[</a> <a id="1143" href="Pat.Denotational.html#1143" class="Bound">Δ</a> <a id="1145" href="Pat.Context.html#1043" class="InductiveConstructor Operator">⊢</a> <a id="1147" href="Pat.Denotational.html#1147" class="Bound">A</a> <a id="1149" href="Pat.Context.html#1043" class="InductiveConstructor Operator">]⇒</a> <a id="1152" href="Pat.Denotational.html#1152" class="Bound">B</a> <a id="1154" href="Pat.Denotational.html#1083" class="Function Operator">⟧</a> <a id="1156" href="Pat.Denotational.html#1156" class="Bound">σ</a> <a id="1158" href="Pat.Denotational.html#1158" class="Bound">f</a> <a id="1160" class="Symbol">=</a> <a id="1162" class="Symbol">λ</a> <a id="1164" href="Pat.Denotational.html#1164" class="Bound">σ′</a> <a id="1167" href="Pat.Denotational.html#1167" class="Bound">d</a> <a id="1169" class="Symbol">→</a> <a id="1171" href="Pat.Denotational.html#1158" class="Bound">f</a> <a id="1173" class="Symbol">(</a><a id="1174" href="Pat.Substitution.html#5069" class="Function">substSubst</a> <a id="1185" href="Pat.Denotational.html#1164" class="Bound">σ′</a> <a id="1188" href="Pat.Denotational.html#1156" class="Bound">σ</a><a id="1189" class="Symbol">)</a> <a id="1191" href="Pat.Denotational.html#1167" class="Bound">d</a>
<a id="1193" href="Pat.Denotational.html#1083" class="Function Operator">subst⟦</a> <a id="1200" href="Pat.Denotational.html#1200" class="Bound">Δ</a> <a id="1202" href="Pat.Context.html#1116" class="InductiveConstructor Operator">▷</a> <a id="1204" href="Pat.Denotational.html#1204" class="Bound">A</a> <a id="1206" href="Pat.Denotational.html#1083" class="Function Operator">⟧</a> <a id="1208" href="Pat.Denotational.html#1208" class="Bound">σ</a> <a id="1210" href="Pat.Denotational.html#1210" class="Bound">d</a> <a id="1212" class="Symbol">=</a> <a id="1214" href="Pat.Denotational.html#1083" class="Function Operator">subst⟦</a> <a id="1221" href="Pat.Denotational.html#1204" class="Bound">A</a> <a id="1223" href="Pat.Denotational.html#1083" class="Function Operator">⟧</a> <a id="1225" class="Symbol">(</a><a id="1226" href="Pat.Term.html#12103" class="Function">exts++</a> <a id="1233" href="Pat.Denotational.html#1200" class="Bound">Δ</a> <a id="1235" href="Pat.Denotational.html#1208" class="Bound">σ</a><a id="1236" class="Symbol">)</a> <a id="1238" href="Pat.Denotational.html#1210" class="Bound">d</a>
<a id="1240" href="Pat.Denotational.html#1083" class="Function Operator">subst⟦</a> <a id="1247" href="Pat.Context.html#1170" class="InductiveConstructor">`Bool</a> <a id="1253" href="Pat.Denotational.html#1083" class="Function Operator">⟧</a> <a id="1255" href="Pat.Denotational.html#1255" class="Bound">σ</a> <a id="1257" href="Pat.Denotational.html#1257" class="Bound">b</a> <a id="1259" class="Symbol">=</a> <a id="1261" href="Pat.Denotational.html#1257" class="Bound">b</a>
<a id="1263" href="Pat.Denotational.html#1083" class="Function Operator">subst⟦</a> <a id="1270" href="Pat.Context.html#1187" class="InductiveConstructor">◯</a> <a id="1272" href="Pat.Denotational.html#1272" class="Bound">A</a> <a id="1274" href="Pat.Denotational.html#1083" class="Function Operator">⟧</a> <a id="1276" href="Pat.Denotational.html#1276" class="Bound">σ</a> <a id="1278" href="Pat.Denotational.html#1278" class="Bound">e</a> <a id="1280" class="Symbol">=</a> <a id="1282" href="Pat.Substitution.html#4936" class="Function">subst</a> <a id="1288" href="Pat.Denotational.html#1276" class="Bound">σ</a> <a id="1290" href="Pat.Denotational.html#1278" class="Bound">e</a>

<a id="1293" class="Comment">-- | Context interpretation, i.e. environments.</a>
<a id="1341" class="Comment">-- We define it recursively as iterated products instead of using the product type directly.</a>
<a id="G⟦_⟧"></a><a id="1434" href="Pat.Denotational.html#1434" class="Function Operator">G⟦_⟧</a>  <a id="1440" class="Symbol">:</a> <a id="1442" href="Pat.Context.html#502" class="Datatype">Context</a> <a id="1450" href="Data.StagedList.html#843" class="Generalizable">n</a> <a id="1452" class="Symbol">→</a> <a id="1454" href="Pat.Context.html#502" class="Datatype">Context</a> <a id="1462" class="Symbol">(</a><a id="1463" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1467" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="1468" class="Symbol">)</a> <a id="1470" class="Symbol">→</a> <a id="1472" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="Item⟦_⊢_^_⟧"></a><a id="1476" href="Pat.Denotational.html#1476" class="Function Operator">Item⟦_⊢_^_⟧</a> <a id="1488" class="Symbol">:</a> <a id="1490" href="Pat.Context.html#502" class="Datatype">Context</a> <a id="1498" href="Data.StagedList.html#841" class="Generalizable">m</a> <a id="1500" class="Symbol">→</a> <a id="1502" href="Pat.Context.html#384" class="Datatype">Type</a> <a id="1507" href="Data.StagedList.html#841" class="Generalizable">m</a> <a id="1509" class="Symbol">→</a> <a id="1511" href="Data.StagedList.html#841" class="Generalizable">m</a> <a id="1513" href="Data.Nat.Base.html#8799" class="Function Operator">≥‴</a> <a id="1516" href="Data.StagedList.html#843" class="Generalizable">n</a> <a id="1518" class="Symbol">→</a> <a id="1520" href="Pat.Context.html#502" class="Datatype">Context</a> <a id="1528" class="Symbol">(</a><a id="1529" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1533" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="1534" class="Symbol">)</a> <a id="1536" class="Symbol">→</a> <a id="1538" href="Agda.Primitive.html#388" class="Primitive">Set</a>

<a id="1543" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="1546" href="Data.StagedList.html#1909" class="InductiveConstructor">∅</a> <a id="1548" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="1550" href="Pat.Denotational.html#1550" class="Bound">Γ′</a> <a id="1553" class="Symbol">=</a> <a id="1555" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="1557" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="1560" href="Pat.Denotational.html#1560" class="Bound">Γ</a> <a id="1562" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="1565" href="Pat.Denotational.html#1565" class="Bound">Δ</a> <a id="1567" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="1569" href="Pat.Denotational.html#1569" class="Bound">A</a> <a id="1571" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="1573" href="Pat.Denotational.html#1573" class="Bound">m≥n</a> <a id="1577" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a> <a id="1579" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="1581" href="Pat.Denotational.html#1581" class="Bound">Γ′</a> <a id="1584" class="Symbol">=</a> <a id="1586" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="1589" href="Pat.Denotational.html#1560" class="Bound">Γ</a> <a id="1591" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="1593" href="Pat.Denotational.html#1581" class="Bound">Γ′</a> <a id="1596" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1598" href="Pat.Denotational.html#1476" class="Function Operator">Item⟦</a> <a id="1604" href="Pat.Denotational.html#1565" class="Bound">Δ</a> <a id="1606" href="Pat.Denotational.html#1476" class="Function Operator">⊢</a> <a id="1608" href="Pat.Denotational.html#1569" class="Bound">A</a> <a id="1610" href="Pat.Denotational.html#1476" class="Function Operator">^</a> <a id="1612" href="Pat.Denotational.html#1573" class="Bound">m≥n</a> <a id="1616" href="Pat.Denotational.html#1476" class="Function Operator">⟧</a> <a id="1618" href="Pat.Denotational.html#1581" class="Bound">Γ′</a>
<a id="1621" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="1624" href="Pat.Denotational.html#1624" class="Bound">Γ₁</a> <a id="1627" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="1630" href="Pat.Denotational.html#1630" class="Bound">Γ₂</a> <a id="1633" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="1635" href="Pat.Denotational.html#1635" class="Bound">Γ′</a> <a id="1638" class="Symbol">=</a> <a id="1640" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="1643" href="Pat.Denotational.html#1624" class="Bound">Γ₁</a> <a id="1646" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="1648" href="Pat.Denotational.html#1635" class="Bound">Γ′</a> <a id="1651" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1653" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="1656" href="Pat.Denotational.html#1630" class="Bound">Γ₂</a> <a id="1659" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="1661" href="Pat.Denotational.html#1635" class="Bound">Γ′</a>

<a id="1665" href="Pat.Denotational.html#1476" class="Function Operator">Item⟦</a> <a id="1671" href="Pat.Denotational.html#1671" class="Bound">Δ</a> <a id="1673" href="Pat.Denotational.html#1476" class="Function Operator">⊢</a> <a id="1675" href="Pat.Denotational.html#1675" class="Bound">A</a> <a id="1677" href="Pat.Denotational.html#1476" class="Function Operator">^</a> <a id="1679" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a> <a id="1687" href="Pat.Denotational.html#1476" class="Function Operator">⟧</a> <a id="1689" href="Pat.Denotational.html#1689" class="Bound">Γ′</a> <a id="1692" class="Symbol">=</a> <a id="1694" class="Symbol">∀</a> <a id="1696" class="Symbol">{</a><a id="1697" href="Pat.Denotational.html#1697" class="Bound">Γ″</a><a id="1699" class="Symbol">}</a> <a id="1701" class="Symbol">→</a> <a id="1703" href="Pat.Term.html#2470" class="Function">Subst</a> <a id="1709" href="Pat.Denotational.html#1689" class="Bound">Γ′</a> <a id="1712" href="Pat.Denotational.html#1697" class="Bound">Γ″</a> <a id="1715" class="Symbol">→</a> <a id="1717" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="1720" href="Pat.Denotational.html#1671" class="Bound">Δ</a> <a id="1722" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="1724" href="Pat.Denotational.html#1697" class="Bound">Γ″</a> <a id="1727" class="Symbol">→</a> <a id="1729" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="1731" href="Pat.Denotational.html#1675" class="Bound">A</a> <a id="1733" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="1735" href="Pat.Denotational.html#1697" class="Bound">Γ″</a>
<a id="1738" href="Pat.Denotational.html#1476" class="Function Operator">Item⟦</a> <a id="1744" href="Pat.Denotational.html#1744" class="Bound">Δ</a> <a id="1746" href="Pat.Denotational.html#1476" class="Function Operator">⊢</a> <a id="1748" href="Pat.Denotational.html#1748" class="Bound">A</a> <a id="1750" href="Pat.Denotational.html#1476" class="Function Operator">^</a> <a id="1752" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a> <a id="1760" href="Pat.Denotational.html#1760" class="Bound">m≥n</a> <a id="1764" href="Pat.Denotational.html#1476" class="Function Operator">⟧</a> <a id="1766" href="Pat.Denotational.html#1766" class="Bound">Γ′</a> <a id="1769" class="Symbol">=</a> <a id="1771" href="Pat.Denotational.html#1766" class="Bound">Γ′</a> <a id="1774" href="Pat.Term.html#970" class="Datatype Operator">⊩[</a> <a id="1777" href="Pat.Denotational.html#1744" class="Bound">Δ</a> <a id="1779" href="Pat.Term.html#970" class="Datatype Operator">⊢</a> <a id="1781" href="Pat.Denotational.html#1748" class="Bound">A</a> <a id="1783" href="Pat.Term.html#970" class="Datatype Operator">^</a> <a id="1785" href="Pat.Denotational.html#1760" class="Bound">m≥n</a> <a id="1789" href="Pat.Term.html#970" class="Datatype Operator">]</a>

<a id="1792" class="Comment">-- | Lookup an item from an environment.</a>
<a id="lookupG"></a><a id="1833" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="1841" class="Symbol">:</a> <a id="1843" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="1846" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="1848" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="1850" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="1853" class="Symbol">→</a> <a id="1855" class="Symbol">∀</a> <a id="1857" class="Symbol">{</a><a id="1858" href="Pat.Denotational.html#1858" class="Bound">m</a><a id="1859" class="Symbol">}</a> <a id="1861" class="Symbol">{</a><a id="1862" href="Pat.Denotational.html#1862" class="Bound">Δ</a><a id="1863" class="Symbol">}</a> <a id="1865" class="Symbol">{</a><a id="1866" href="Pat.Denotational.html#1866" class="Bound">A</a><a id="1867" class="Symbol">}</a> <a id="1869" class="Symbol">{</a><a id="1870" href="Pat.Denotational.html#1870" class="Bound">m≥n</a> <a id="1874" class="Symbol">:</a> <a id="1876" href="Pat.Denotational.html#1858" class="Bound">m</a> <a id="1878" href="Data.Nat.Base.html#8799" class="Function Operator">≥‴</a> <a id="1881" class="Symbol">_}</a> <a id="1884" class="Symbol">→</a> <a id="1886" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="1888" href="Data.StagedList.html#5816" class="Datatype Operator">∋[</a> <a id="1891" href="Pat.Denotational.html#1862" class="Bound">Δ</a> <a id="1893" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="1895" href="Pat.Denotational.html#1866" class="Bound">A</a> <a id="1897" href="Data.StagedList.html#5816" class="Datatype Operator">^</a> <a id="1899" href="Pat.Denotational.html#1870" class="Bound">m≥n</a> <a id="1903" href="Data.StagedList.html#5816" class="Datatype Operator">]</a> <a id="1905" class="Symbol">→</a> <a id="1907" href="Pat.Denotational.html#1476" class="Function Operator">Item⟦</a> <a id="1913" href="Pat.Denotational.html#1862" class="Bound">Δ</a> <a id="1915" href="Pat.Denotational.html#1476" class="Function Operator">⊢</a> <a id="1917" href="Pat.Denotational.html#1866" class="Bound">A</a> <a id="1919" href="Pat.Denotational.html#1476" class="Function Operator">^</a> <a id="1921" href="Pat.Denotational.html#1870" class="Bound">m≥n</a> <a id="1925" href="Pat.Denotational.html#1476" class="Function Operator">⟧</a> <a id="1927" href="Pat.Context.html#582" class="Generalizable">Γ′</a>
<a id="1930" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="1938" class="Symbol">{</a><a id="1939" class="Argument">Γ</a> <a id="1941" class="Symbol">=</a> <a id="1943" href="Pat.Denotational.html#1943" class="Bound">Γ</a> <a id="1945" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="1948" class="Symbol">_</a> <a id="1950" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="1952" class="Symbol">_</a> <a id="1954" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="1955" class="Symbol">}</a> <a id="1957" href="Pat.Denotational.html#1957" class="Bound">γ</a> <a id="1959" href="Data.StagedList.html#5871" class="InductiveConstructor">Z</a> <a id="1961" class="Symbol">=</a> <a id="1963" href="Pat.Denotational.html#1957" class="Bound">γ</a> <a id="1965" class="Symbol">.</a><a id="1966" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="1972" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="1980" class="Symbol">{</a><a id="1981" class="Argument">Γ</a> <a id="1983" class="Symbol">=</a> <a id="1985" href="Pat.Denotational.html#1985" class="Bound">Γ</a> <a id="1987" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="1990" class="Symbol">_</a> <a id="1992" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="1994" class="Symbol">_</a> <a id="1996" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="1997" class="Symbol">}</a> <a id="1999" href="Pat.Denotational.html#1999" class="Bound">γ</a> <a id="2001" class="Symbol">(</a><a id="2002" href="Data.StagedList.html#5906" class="InductiveConstructor">S</a> <a id="2004" href="Pat.Denotational.html#2004" class="Bound">x</a><a id="2005" class="Symbol">)</a> <a id="2007" class="Symbol">=</a> <a id="2009" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="2017" class="Symbol">(</a><a id="2018" href="Pat.Denotational.html#1999" class="Bound">γ</a> <a id="2020" class="Symbol">.</a><a id="2021" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2026" class="Symbol">)</a> <a id="2028" href="Pat.Denotational.html#2004" class="Bound">x</a>
<a id="2030" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="2038" class="Symbol">{</a><a id="2039" class="Argument">Γ</a> <a id="2041" class="Symbol">=</a> <a id="2043" href="Pat.Denotational.html#2043" class="Bound">Γ₁</a> <a id="2046" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="2049" href="Pat.Denotational.html#2049" class="Bound">Γ₂</a><a id="2051" class="Symbol">}</a> <a id="2053" class="Symbol">(</a><a id="2054" href="Pat.Denotational.html#2054" class="Bound">γ₁</a> <a id="2057" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="2061" href="Pat.Denotational.html#2061" class="Bound">γ₂</a><a id="2063" class="Symbol">)</a> <a id="2065" class="Symbol">(</a><a id="2066" href="Data.StagedList.html#5960" class="InductiveConstructor">L</a> <a id="2068" href="Pat.Denotational.html#2068" class="Bound">x</a><a id="2069" class="Symbol">)</a> <a id="2071" class="Symbol">=</a> <a id="2073" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="2081" href="Pat.Denotational.html#2054" class="Bound">γ₁</a> <a id="2084" href="Pat.Denotational.html#2068" class="Bound">x</a>
<a id="2086" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="2094" class="Symbol">{</a><a id="2095" class="Argument">Γ</a> <a id="2097" class="Symbol">=</a> <a id="2099" href="Pat.Denotational.html#2099" class="Bound">Γ₁</a> <a id="2102" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="2105" href="Pat.Denotational.html#2105" class="Bound">Γ₂</a><a id="2107" class="Symbol">}</a> <a id="2109" class="Symbol">(</a><a id="2110" href="Pat.Denotational.html#2110" class="Bound">γ₁</a> <a id="2113" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="2117" href="Pat.Denotational.html#2117" class="Bound">γ₂</a><a id="2119" class="Symbol">)</a> <a id="2121" class="Symbol">(</a><a id="2122" href="Data.StagedList.html#6006" class="InductiveConstructor">R</a> <a id="2124" href="Pat.Denotational.html#2124" class="Bound">x</a><a id="2125" class="Symbol">)</a> <a id="2127" class="Symbol">=</a> <a id="2129" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="2137" href="Pat.Denotational.html#2117" class="Bound">γ₂</a> <a id="2140" href="Pat.Denotational.html#2124" class="Bound">x</a>

<a id="2143" class="Comment">-- | Restrict an environment.</a>
<a id="_↾ᴳ"></a><a id="2173" href="Pat.Denotational.html#2173" class="Function Operator">_↾ᴳ</a> <a id="2177" class="Symbol">:</a> <a id="2179" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="2182" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="2184" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="2186" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="2189" class="Symbol">→</a> <a id="2191" href="Pat.Term.html#2470" class="Function">Subst</a> <a id="2197" class="Symbol">(</a><a id="2198" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="2200" href="Data.StagedList.html#2165" class="Function Operator">↾</a><a id="2201" class="Symbol">)</a> <a id="2203" href="Pat.Context.html#582" class="Generalizable">Γ′</a>
<a id="2206" href="Pat.Denotational.html#2173" class="Function Operator">_↾ᴳ</a> <a id="2210" class="Symbol">{</a><a id="2211" class="Argument">Γ</a> <a id="2213" class="Symbol">=</a> <a id="2215" href="Data.StagedList.html#1909" class="InductiveConstructor">∅</a><a id="2216" class="Symbol">}</a> <a id="2218" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="2221" class="Symbol">=</a> <a id="2223" href="Pat.Term.html#1468" class="InductiveConstructor">∅</a>
<a id="2225" href="Pat.Denotational.html#2173" class="Function Operator">_↾ᴳ</a> <a id="2229" class="Symbol">{</a><a id="2230" class="Argument">Γ</a> <a id="2232" class="Symbol">=</a> <a id="2234" href="Pat.Denotational.html#2234" class="Bound">Γ</a> <a id="2236" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="2239" href="Pat.Denotational.html#2239" class="Bound">Δ</a> <a id="2241" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="2243" href="Pat.Denotational.html#2243" class="Bound">A</a> <a id="2245" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="2247" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a> <a id="2255" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="2256" class="Symbol">}</a> <a id="2258" href="Pat.Denotational.html#2258" class="Bound">γ</a> <a id="2260" class="Symbol">=</a> <a id="2262" href="Pat.Denotational.html#2258" class="Bound">γ</a> <a id="2264" class="Symbol">.</a><a id="2265" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2271" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a>
<a id="2274" href="Pat.Denotational.html#2173" class="Function Operator">_↾ᴳ</a> <a id="2278" class="Symbol">{</a><a id="2279" class="Argument">Γ</a> <a id="2281" class="Symbol">=</a> <a id="2283" href="Pat.Denotational.html#2283" class="Bound">Γ</a> <a id="2285" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="2288" href="Pat.Denotational.html#2288" class="Bound">Δ</a> <a id="2290" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="2292" href="Pat.Denotational.html#2292" class="Bound">A</a> <a id="2294" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="2296" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a> <a id="2304" href="Pat.Denotational.html#2304" class="Bound">m≥n</a> <a id="2308" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="2309" class="Symbol">}</a> <a id="2311" href="Pat.Denotational.html#2311" class="Bound">γ</a> <a id="2313" class="Symbol">=</a> <a id="2315" class="Symbol">(</a><a id="2316" href="Pat.Denotational.html#2311" class="Bound">γ</a> <a id="2318" class="Symbol">.</a><a id="2319" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2325" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a><a id="2327" class="Symbol">)</a> <a id="2329" href="Pat.Term.html#1481" class="InductiveConstructor Operator">,</a> <a id="2331" href="Pat.Denotational.html#2311" class="Bound">γ</a> <a id="2333" class="Symbol">.</a><a id="2334" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="2340" href="Pat.Denotational.html#2173" class="Function Operator">_↾ᴳ</a> <a id="2344" class="Symbol">{</a><a id="2345" class="Argument">Γ</a> <a id="2347" class="Symbol">=</a> <a id="2349" href="Pat.Denotational.html#2349" class="Bound">Γ₁</a> <a id="2352" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="2355" href="Pat.Denotational.html#2355" class="Bound">Γ₂</a><a id="2357" class="Symbol">}</a> <a id="2359" class="Symbol">(</a><a id="2360" href="Pat.Denotational.html#2360" class="Bound">γ₁</a> <a id="2363" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="2367" href="Pat.Denotational.html#2367" class="Bound">γ₂</a><a id="2369" class="Symbol">)</a> <a id="2371" class="Symbol">=</a> <a id="2373" href="Pat.Denotational.html#2360" class="Bound">γ₁</a> <a id="2376" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a> <a id="2379" href="Pat.Term.html#1560" class="InductiveConstructor Operator">++ˢ</a> <a id="2383" href="Pat.Denotational.html#2367" class="Bound">γ₂</a> <a id="2386" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a>

<a id="2390" class="Comment">-- | Lift a later-stage substitution to an environment.</a>
<a id="liftS"></a><a id="2446" href="Pat.Denotational.html#2446" class="Function">liftS</a> <a id="2452" class="Symbol">:</a> <a id="2454" href="Pat.Term.html#2470" class="Function">Subst</a> <a id="2460" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="2462" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="2465" class="Symbol">→</a> <a id="2467" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="2470" href="Data.StagedList.html#2668" class="Function">inject₁</a> <a id="2478" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="2480" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="2482" href="Pat.Context.html#582" class="Generalizable">Γ′</a>
<a id="2485" href="Pat.Denotational.html#2446" class="Function">liftS</a> <a id="2491" href="Pat.Term.html#1468" class="InductiveConstructor">∅</a> <a id="2493" class="Symbol">=</a> <a id="2495" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="2498" href="Pat.Denotational.html#2446" class="Function">liftS</a> <a id="2504" class="Symbol">(</a><a id="2505" href="Pat.Denotational.html#2505" class="Bound">σ</a> <a id="2507" href="Pat.Term.html#1481" class="InductiveConstructor Operator">,</a> <a id="2509" href="Pat.Denotational.html#2509" class="Bound">item</a><a id="2513" class="Symbol">)</a> <a id="2515" class="Symbol">=</a> <a id="2517" href="Pat.Denotational.html#2446" class="Function">liftS</a> <a id="2523" href="Pat.Denotational.html#2505" class="Bound">σ</a> <a id="2525" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="2529" href="Pat.Denotational.html#2509" class="Bound">item</a>
<a id="2534" href="Pat.Denotational.html#2446" class="Function">liftS</a> <a id="2540" class="Symbol">(</a><a id="2541" href="Pat.Denotational.html#2541" class="Bound">σ₁</a> <a id="2544" href="Pat.Term.html#1560" class="InductiveConstructor Operator">++ˢ</a> <a id="2548" href="Pat.Denotational.html#2548" class="Bound">σ₂</a><a id="2550" class="Symbol">)</a> <a id="2552" class="Symbol">=</a> <a id="2554" href="Pat.Denotational.html#2446" class="Function">liftS</a> <a id="2560" href="Pat.Denotational.html#2541" class="Bound">σ₁</a> <a id="2563" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="2567" href="Pat.Denotational.html#2446" class="Function">liftS</a> <a id="2573" href="Pat.Denotational.html#2548" class="Bound">σ₂</a>

<a id="2577" class="Comment">-- | Context interpretation is monotonic in the (indexing) context.</a>
<a id="substG"></a><a id="2645" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="2652" class="Symbol">:</a> <a id="2654" href="Pat.Term.html#2470" class="Function">Subst</a> <a id="2660" href="Pat.Context.html#608" class="Generalizable">Γ₁</a> <a id="2663" href="Pat.Context.html#611" class="Generalizable">Γ₂</a> <a id="2666" class="Symbol">→</a> <a id="2668" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="2671" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="2673" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="2675" href="Pat.Context.html#608" class="Generalizable">Γ₁</a> <a id="2678" class="Symbol">→</a> <a id="2680" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="2683" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="2685" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="2687" href="Pat.Context.html#611" class="Generalizable">Γ₂</a>
<a id="2690" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="2697" class="Symbol">{</a><a id="2698" class="Argument">Γ</a> <a id="2700" class="Symbol">=</a> <a id="2702" href="Data.StagedList.html#1909" class="InductiveConstructor">∅</a><a id="2703" class="Symbol">}</a> <a id="2705" href="Pat.Denotational.html#2705" class="Bound">σ</a> <a id="2707" href="Pat.Denotational.html#2707" class="Bound">γ</a> <a id="2709" class="Symbol">=</a> <a id="2711" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="2714" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="2721" class="Symbol">{</a><a id="2722" class="Argument">Γ</a> <a id="2724" class="Symbol">=</a> <a id="2726" href="Pat.Denotational.html#2726" class="Bound">Γ</a> <a id="2728" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="2731" class="Symbol">_</a> <a id="2733" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="2735" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a> <a id="2743" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="2744" class="Symbol">}</a> <a id="2746" href="Pat.Denotational.html#2746" class="Bound">σ</a> <a id="2748" class="Symbol">(</a><a id="2749" href="Pat.Denotational.html#2749" class="Bound">γ</a> <a id="2751" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="2755" href="Pat.Denotational.html#2755" class="Bound">f</a><a id="2756" class="Symbol">)</a> <a id="2758" class="Symbol">=</a> <a id="2760" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="2767" href="Pat.Denotational.html#2746" class="Bound">σ</a> <a id="2769" href="Pat.Denotational.html#2749" class="Bound">γ</a> <a id="2771" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="2775" class="Symbol">λ</a> <a id="2777" href="Pat.Denotational.html#2777" class="Bound">σ′</a> <a id="2780" class="Symbol">→</a>  <a id="2783" href="Pat.Denotational.html#2755" class="Bound">f</a> <a id="2785" class="Symbol">(</a><a id="2786" href="Pat.Substitution.html#5069" class="Function">substSubst</a> <a id="2797" href="Pat.Denotational.html#2777" class="Bound">σ′</a> <a id="2800" href="Pat.Denotational.html#2746" class="Bound">σ</a><a id="2801" class="Symbol">)</a>
<a id="2803" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="2810" class="Symbol">{</a><a id="2811" class="Argument">Γ</a> <a id="2813" class="Symbol">=</a> <a id="2815" href="Pat.Denotational.html#2815" class="Bound">Γ</a> <a id="2817" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="2820" href="Pat.Denotational.html#2820" class="Bound">Δ</a> <a id="2822" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="2824" href="Pat.Denotational.html#2824" class="Bound">A</a> <a id="2826" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="2828" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a> <a id="2836" href="Pat.Denotational.html#2836" class="Bound">m≥n</a> <a id="2840" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="2841" class="Symbol">}</a> <a id="2843" href="Pat.Denotational.html#2843" class="Bound">σ</a> <a id="2845" class="Symbol">(</a><a id="2846" href="Pat.Denotational.html#2846" class="Bound">γ</a> <a id="2848" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="2852" href="Pat.Denotational.html#2852" class="Bound">item</a><a id="2856" class="Symbol">)</a> <a id="2858" class="Symbol">=</a> <a id="2860" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="2867" href="Pat.Denotational.html#2843" class="Bound">σ</a> <a id="2869" href="Pat.Denotational.html#2846" class="Bound">γ</a> <a id="2871" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="2875" href="Pat.Substitution.html#5204" class="Function">substSubstItem</a> <a id="2890" href="Pat.Denotational.html#2843" class="Bound">σ</a> <a id="2892" href="Pat.Denotational.html#2852" class="Bound">item</a>
<a id="2897" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="2904" class="Symbol">{</a><a id="2905" class="Argument">Γ</a> <a id="2907" class="Symbol">=</a> <a id="2909" href="Pat.Denotational.html#2909" class="Bound">Γ₁</a> <a id="2912" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="2915" href="Pat.Denotational.html#2915" class="Bound">Γ₂</a><a id="2917" class="Symbol">}</a> <a id="2919" href="Pat.Denotational.html#2919" class="Bound">σ</a> <a id="2921" class="Symbol">(</a><a id="2922" href="Pat.Denotational.html#2922" class="Bound">γ₁</a> <a id="2925" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="2929" href="Pat.Denotational.html#2929" class="Bound">γ₂</a><a id="2931" class="Symbol">)</a> <a id="2933" class="Symbol">=</a> <a id="2935" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="2942" href="Pat.Denotational.html#2919" class="Bound">σ</a> <a id="2944" href="Pat.Denotational.html#2922" class="Bound">γ₁</a> <a id="2947" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="2951" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="2958" href="Pat.Denotational.html#2919" class="Bound">σ</a> <a id="2960" href="Pat.Denotational.html#2929" class="Bound">γ₂</a>

<a id="2964" class="Comment">-- | Lift a later-stage renaming to an environment.</a>
<a id="liftG"></a><a id="3016" href="Pat.Denotational.html#3016" class="Function">liftG</a> <a id="3022" class="Symbol">:</a> <a id="3024" href="Data.StagedList.html#10568" class="Function">Rename</a> <a id="3031" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="3033" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="3036" class="Symbol">→</a> <a id="3038" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="3041" href="Data.StagedList.html#2668" class="Function">inject₁</a> <a id="3049" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="3051" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="3053" href="Pat.Context.html#582" class="Generalizable">Γ′</a>
<a id="3056" href="Pat.Denotational.html#3016" class="Function">liftG</a> <a id="3062" class="Symbol">{</a><a id="3063" class="Argument">Γ</a> <a id="3065" class="Symbol">=</a> <a id="3067" href="Data.StagedList.html#1909" class="InductiveConstructor">∅</a><a id="3068" class="Symbol">}</a> <a id="3070" href="Pat.Denotational.html#3070" class="Bound">ρ</a> <a id="3072" class="Symbol">=</a> <a id="3074" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="3077" href="Pat.Denotational.html#3016" class="Function">liftG</a> <a id="3083" class="Symbol">{</a><a id="3084" class="Argument">Γ</a> <a id="3086" class="Symbol">=</a> <a id="3088" href="Pat.Denotational.html#3088" class="Bound">Γ</a> <a id="3090" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="3093" class="Symbol">_</a> <a id="3095" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="3097" class="Symbol">_</a> <a id="3099" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="3100" class="Symbol">}</a> <a id="3102" href="Pat.Denotational.html#3102" class="Bound">ρ</a> <a id="3104" class="Symbol">=</a> <a id="3106" href="Pat.Denotational.html#3016" class="Function">liftG</a> <a id="3112" class="Symbol">(</a><a id="3113" href="Pat.Denotational.html#3102" class="Bound">ρ</a> <a id="3115" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3117" href="Data.StagedList.html#5906" class="InductiveConstructor">S</a><a id="3118" class="Symbol">)</a> <a id="3120" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="3124" href="Pat.Term.html#1148" class="InductiveConstructor">var</a> <a id="3128" class="Symbol">(</a><a id="3129" href="Pat.Denotational.html#3102" class="Bound">ρ</a> <a id="3131" href="Data.StagedList.html#5871" class="InductiveConstructor">Z</a><a id="3132" class="Symbol">)</a>
<a id="3134" href="Pat.Denotational.html#3016" class="Function">liftG</a> <a id="3140" class="Symbol">{</a><a id="3141" class="Argument">Γ</a> <a id="3143" class="Symbol">=</a> <a id="3145" href="Pat.Denotational.html#3145" class="Bound">Γ₁</a> <a id="3148" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="3151" href="Pat.Denotational.html#3151" class="Bound">Γ₂</a><a id="3153" class="Symbol">}</a> <a id="3155" href="Pat.Denotational.html#3155" class="Bound">ρ</a> <a id="3157" class="Symbol">=</a> <a id="3159" href="Pat.Denotational.html#3016" class="Function">liftG</a> <a id="3165" class="Symbol">(</a><a id="3166" href="Pat.Denotational.html#3155" class="Bound">ρ</a> <a id="3168" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3170" href="Data.StagedList.html#5960" class="InductiveConstructor">L</a><a id="3171" class="Symbol">)</a> <a id="3173" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="3177" href="Pat.Denotational.html#3016" class="Function">liftG</a> <a id="3183" class="Symbol">(</a><a id="3184" href="Pat.Denotational.html#3155" class="Bound">ρ</a> <a id="3186" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3188" href="Data.StagedList.html#6006" class="InductiveConstructor">R</a><a id="3189" class="Symbol">)</a>

<a id="3192" class="Comment">-- | liftG respects equivalence of renamings.</a>
<a id="liftG-resp-≗"></a><a id="3238" href="Pat.Denotational.html#3238" class="Function">liftG-resp-≗</a> <a id="3251" class="Symbol">:</a> <a id="3253" class="Symbol">∀</a> <a id="3255" class="Symbol">{</a><a id="3256" href="Pat.Denotational.html#3256" class="Bound">ρ</a> <a id="3258" href="Pat.Denotational.html#3258" class="Bound">ρ′</a> <a id="3261" class="Symbol">:</a> <a id="3263" href="Data.StagedList.html#10568" class="Function">Rename</a> <a id="3270" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="3272" href="Pat.Context.html#582" class="Generalizable">Γ′</a><a id="3274" class="Symbol">}</a> <a id="3276" class="Symbol">→</a> <a id="3278" href="Pat.Denotational.html#3256" class="Bound">ρ</a> <a id="3280" href="Data.StagedList.html#13053" class="Function Operator">≗</a> <a id="3282" href="Pat.Denotational.html#3258" class="Bound">ρ′</a> <a id="3285" class="Symbol">→</a> <a id="3287" href="Pat.Denotational.html#3016" class="Function">liftG</a> <a id="3293" href="Pat.Denotational.html#3256" class="Bound">ρ</a> <a id="3295" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3297" href="Pat.Denotational.html#3016" class="Function">liftG</a> <a id="3303" href="Pat.Denotational.html#3258" class="Bound">ρ′</a>
<a id="3306" href="Pat.Denotational.html#3238" class="Function">liftG-resp-≗</a> <a id="3319" class="Symbol">{</a><a id="3320" class="Argument">Γ</a> <a id="3322" class="Symbol">=</a> <a id="3324" href="Data.StagedList.html#1909" class="InductiveConstructor">∅</a><a id="3325" class="Symbol">}</a> <a id="3327" href="Pat.Denotational.html#3327" class="Bound">ρ≗ρ′</a> <a id="3332" class="Symbol">=</a> <a id="3334" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3339" href="Pat.Denotational.html#3238" class="Function">liftG-resp-≗</a> <a id="3352" class="Symbol">{</a><a id="3353" class="Argument">Γ</a> <a id="3355" class="Symbol">=</a> <a id="3357" href="Pat.Denotational.html#3357" class="Bound">Γ</a> <a id="3359" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="3362" class="Symbol">_</a> <a id="3364" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="3366" class="Symbol">_</a> <a id="3368" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="3369" class="Symbol">}</a> <a id="3371" href="Pat.Denotational.html#3371" class="Bound">ρ≗ρ′</a> <a id="3376" class="Symbol">=</a> <a id="3378" href="Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a> <a id="3384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P._,_</a> <a id="3390" class="Symbol">(</a><a id="3391" href="Pat.Denotational.html#3238" class="Function">liftG-resp-≗</a> <a id="3404" class="Symbol">(</a><a id="3405" href="Pat.Denotational.html#3371" class="Bound">ρ≗ρ′</a> <a id="3410" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3412" href="Data.StagedList.html#5906" class="InductiveConstructor">S</a><a id="3413" class="Symbol">))</a> <a id="3416" class="Symbol">(</a><a id="3417" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3422" href="Pat.Term.html#1148" class="InductiveConstructor">var</a> <a id="3426" class="Symbol">(</a><a id="3427" href="Pat.Denotational.html#3371" class="Bound">ρ≗ρ′</a> <a id="3432" href="Data.StagedList.html#5871" class="InductiveConstructor">Z</a><a id="3433" class="Symbol">))</a>
<a id="3436" href="Pat.Denotational.html#3238" class="Function">liftG-resp-≗</a> <a id="3449" class="Symbol">{</a><a id="3450" class="Argument">Γ</a> <a id="3452" class="Symbol">=</a> <a id="3454" href="Pat.Denotational.html#3454" class="Bound">Γ₁</a> <a id="3457" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="3460" href="Pat.Denotational.html#3460" class="Bound">Γ₂</a><a id="3462" class="Symbol">}</a> <a id="3464" href="Pat.Denotational.html#3464" class="Bound">ρ≗ρ′</a> <a id="3469" class="Symbol">=</a> <a id="3471" href="Relation.Binary.PropositionalEquality.Core.html#1576" class="Function">cong₂</a> <a id="3477" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P._,_</a> <a id="3483" class="Symbol">(</a><a id="3484" href="Pat.Denotational.html#3238" class="Function">liftG-resp-≗</a> <a id="3497" class="Symbol">(</a><a id="3498" href="Pat.Denotational.html#3464" class="Bound">ρ≗ρ′</a> <a id="3503" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3505" href="Data.StagedList.html#5960" class="InductiveConstructor">L</a><a id="3506" class="Symbol">))</a> <a id="3509" class="Symbol">(</a><a id="3510" href="Pat.Denotational.html#3238" class="Function">liftG-resp-≗</a> <a id="3523" class="Symbol">(</a><a id="3524" href="Pat.Denotational.html#3464" class="Bound">ρ≗ρ′</a> <a id="3529" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3531" href="Data.StagedList.html#6006" class="InductiveConstructor">R</a><a id="3532" class="Symbol">))</a>

<a id="3536" class="Comment">-- | Extend an environment with an identity entry at later stage.</a>
<a id="extG"></a><a id="3602" href="Pat.Denotational.html#3602" class="Function">extG</a> <a id="3607" class="Symbol">:</a> <a id="3609" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="3612" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="3614" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="3616" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="3619" class="Symbol">→</a> <a id="3621" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="3624" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="3626" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="3629" href="Pat.Context.html#580" class="Generalizable">Δ</a> <a id="3631" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="3633" href="Pat.Context.html#557" class="Generalizable">A</a> <a id="3635" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="3637" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a> <a id="3645" href="Data.StagedList.html#857" class="Generalizable">m≥n</a> <a id="3649" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a> <a id="3651" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="3653" class="Symbol">(</a><a id="3654" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="3657" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="3660" href="Pat.Context.html#580" class="Generalizable">Δ</a> <a id="3662" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="3664" href="Pat.Context.html#557" class="Generalizable">A</a> <a id="3666" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="3668" href="Data.StagedList.html#857" class="Generalizable">m≥n</a> <a id="3672" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a><a id="3673" class="Symbol">)</a>
<a id="3675" href="Pat.Denotational.html#3602" class="Function">extG</a> <a id="3680" href="Pat.Denotational.html#3680" class="Bound">γ</a> <a id="3682" class="Symbol">=</a> <a id="3684" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="3691" class="Symbol">(</a><a id="3692" href="Pat.Term.html#11807" class="Function">lift</a> <a id="3697" href="Data.StagedList.html#5906" class="InductiveConstructor">S</a><a id="3698" class="Symbol">)</a> <a id="3700" href="Pat.Denotational.html#3680" class="Bound">γ</a> <a id="3702" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="3706" href="Pat.Term.html#1148" class="InductiveConstructor">var</a> <a id="3710" href="Data.StagedList.html#5871" class="InductiveConstructor">Z</a>

<a id="3713" class="Comment">-- | Extend an environment with multiple identity entries at later stages.</a>
<a id="extG++"></a><a id="3788" href="Pat.Denotational.html#3788" class="Function">extG++</a> <a id="3795" class="Symbol">:</a> <a id="3797" class="Symbol">∀</a> <a id="3799" href="Pat.Denotational.html#3799" class="Bound">Δ</a> <a id="3801" class="Symbol">→</a> <a id="3803" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="3806" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="3808" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="3810" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="3813" class="Symbol">→</a> <a id="3815" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="3818" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="3820" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="3823" href="Data.StagedList.html#2668" class="Function">inject₁</a> <a id="3831" href="Pat.Denotational.html#3799" class="Bound">Δ</a> <a id="3833" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="3835" class="Symbol">(</a><a id="3836" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="3839" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="3842" href="Pat.Denotational.html#3799" class="Bound">Δ</a><a id="3843" class="Symbol">)</a>
<a id="3845" href="Pat.Denotational.html#3788" class="Function">extG++</a> <a id="3852" href="Pat.Denotational.html#3852" class="Bound">Δ</a> <a id="3854" href="Pat.Denotational.html#3854" class="Bound">γ</a> <a id="3856" class="Symbol">=</a> <a id="3858" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="3865" class="Symbol">(</a><a id="3866" href="Pat.Term.html#11807" class="Function">lift</a> <a id="3871" href="Data.StagedList.html#5960" class="InductiveConstructor">L</a><a id="3872" class="Symbol">)</a> <a id="3874" href="Pat.Denotational.html#3854" class="Bound">γ</a> <a id="3876" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="3880" href="Pat.Denotational.html#3016" class="Function">liftG</a> <a id="3886" href="Data.StagedList.html#6006" class="InductiveConstructor">R</a>

<a id="3889" class="Comment">-- | Lift a denotation to an environment entry.</a>
<a id="single⟦_⟧"></a><a id="3937" href="Pat.Denotational.html#3937" class="Function Operator">single⟦_⟧</a> <a id="3947" class="Symbol">:</a> <a id="3949" class="Symbol">(</a><a id="3950" href="Pat.Denotational.html#3950" class="Bound">A</a> <a id="3952" class="Symbol">:</a> <a id="3954" href="Pat.Context.html#384" class="Datatype">Type</a> <a id="3959" href="Data.StagedList.html#843" class="Generalizable">n</a><a id="3960" class="Symbol">)</a> <a id="3962" class="Symbol">→</a> <a id="3964" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="3966" href="Pat.Denotational.html#3950" class="Bound">A</a> <a id="3968" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="3970" class="Symbol">(</a><a id="3971" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="3974" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="3977" href="Pat.Context.html#580" class="Generalizable">Δ</a><a id="3978" class="Symbol">)</a> <a id="3980" class="Symbol">→</a> <a id="3982" class="Symbol">∀</a> <a id="3984" class="Symbol">{</a><a id="3985" href="Pat.Denotational.html#3985" class="Bound">Γ″</a><a id="3987" class="Symbol">}</a> <a id="3989" class="Symbol">→</a> <a id="3991" href="Pat.Term.html#2470" class="Function">Subst</a> <a id="3997" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="4000" href="Pat.Denotational.html#3985" class="Bound">Γ″</a> <a id="4003" class="Symbol">→</a> <a id="4005" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="4008" href="Data.StagedList.html#2668" class="Function">inject₁</a> <a id="4016" href="Pat.Context.html#580" class="Generalizable">Δ</a> <a id="4018" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="4020" href="Pat.Denotational.html#3985" class="Bound">Γ″</a> <a id="4023" class="Symbol">→</a> <a id="4025" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="4027" href="Pat.Denotational.html#3950" class="Bound">A</a> <a id="4029" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="4031" href="Pat.Denotational.html#3985" class="Bound">Γ″</a>
<a id="4034" href="Pat.Denotational.html#3937" class="Function Operator">single⟦</a> <a id="4042" href="Pat.Denotational.html#4042" class="Bound">A</a> <a id="4044" href="Pat.Denotational.html#3937" class="Function Operator">⟧</a> <a id="4046" href="Pat.Denotational.html#4046" class="Bound">d</a> <a id="4048" href="Pat.Denotational.html#4048" class="Bound">σ</a> <a id="4050" href="Pat.Denotational.html#4050" class="Bound">γ</a> <a id="4052" class="Symbol">=</a> <a id="4054" href="Pat.Denotational.html#1083" class="Function Operator">subst⟦</a> <a id="4061" href="Pat.Denotational.html#4042" class="Bound">A</a> <a id="4063" href="Pat.Denotational.html#1083" class="Function Operator">⟧</a> <a id="4065" class="Symbol">(</a><a id="4066" href="Pat.Denotational.html#4048" class="Bound">σ</a> <a id="4068" href="Pat.Term.html#1560" class="InductiveConstructor Operator">++ˢ</a> <a id="4072" href="Pat.Term.html#11670" class="Function">renameSubstʳ</a> <a id="4085" class="Symbol">(</a><a id="4086" href="Data.StagedList.html#6966" class="Function">∋-↾⁺</a> <a id="4091" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4093" href="Data.StagedList.html#7597" class="Function">∋-inject₁⁺</a><a id="4103" class="Symbol">)</a> <a id="4105" class="Symbol">(</a><a id="4106" href="Pat.Denotational.html#4050" class="Bound">γ</a> <a id="4108" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a><a id="4110" class="Symbol">))</a> <a id="4113" href="Pat.Denotational.html#4046" class="Bound">d</a>

<a id="4116" class="Comment">-- | Merge two environments.</a>
<a id="_∪_"></a><a id="4145" href="Pat.Denotational.html#4145" class="Function Operator">_∪_</a> <a id="4149" class="Symbol">:</a> <a id="4151" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="4154" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="4156" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="4158" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="4161" class="Symbol">→</a> <a id="4163" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="4166" href="Pat.Context.html#580" class="Generalizable">Δ</a> <a id="4168" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="4170" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="4173" class="Symbol">→</a> <a id="4175" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="4178" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="4180" href="Data.StagedList.html#1994" class="InductiveConstructor Operator">++</a> <a id="4183" href="Pat.Context.html#580" class="Generalizable">Δ</a> <a id="4185" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="4187" href="Pat.Context.html#582" class="Generalizable">Γ′</a>
<a id="4190" href="Pat.Denotational.html#4145" class="Function Operator">_∪_</a> <a id="4194" href="Pat.Denotational.html#4194" class="Bound">γ₁</a> <a id="4197" href="Pat.Denotational.html#4197" class="Bound">γ₂</a> <a id="4200" class="Symbol">=</a> <a id="4202" href="Pat.Denotational.html#4194" class="Bound">γ₁</a> <a id="4205" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="4209" href="Pat.Denotational.html#4197" class="Bound">γ₂</a>

<a id="4213" class="Comment">-- | Interpretation of Expressions and Substitutions</a>
<a id="E⟦_⟧"></a><a id="4266" href="Pat.Denotational.html#4266" class="Function Operator">E⟦_⟧</a> <a id="4271" class="Symbol">:</a> <a id="4273" href="Pat.Term.html#560" class="Datatype">Term</a> <a id="4278" href="Data.StagedList.html#843" class="Generalizable">n</a> <a id="4280" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="4282" href="Pat.Context.html#557" class="Generalizable">A</a> <a id="4284" class="Symbol">→</a> <a id="4286" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="4289" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="4291" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="4293" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="4296" class="Symbol">→</a> <a id="4298" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="4300" href="Pat.Context.html#557" class="Generalizable">A</a> <a id="4302" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="4304" href="Pat.Context.html#582" class="Generalizable">Γ′</a>
<a id="S⟦_⟧"></a><a id="4307" href="Pat.Denotational.html#4307" class="Function Operator">S⟦_⟧</a> <a id="4312" class="Symbol">:</a> <a id="4314" href="Pat.Term.html#2470" class="Function">Subst</a> <a id="4320" href="Pat.Context.html#580" class="Generalizable">Δ</a> <a id="4322" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="4324" class="Symbol">→</a> <a id="4326" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="4329" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="4331" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="4333" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="4336" class="Symbol">→</a> <a id="4338" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="4341" href="Pat.Context.html#580" class="Generalizable">Δ</a> <a id="4343" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="4345" href="Pat.Context.html#582" class="Generalizable">Γ′</a>

<a id="4349" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4352" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`</a> <a id="4354" href="Pat.Denotational.html#4354" class="Bound">x</a> <a id="4356" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`with</a> <a id="4362" href="Pat.Denotational.html#4362" class="Bound">σ</a> <a id="4364" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4366" href="Pat.Denotational.html#4366" class="Bound">γ</a> <a id="4368" class="Symbol">=</a> <a id="4370" class="Symbol">(</a><a id="4371" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="4379" href="Pat.Denotational.html#4366" class="Bound">γ</a> <a id="4381" href="Pat.Denotational.html#4354" class="Bound">x</a><a id="4382" class="Symbol">)</a> <a id="4384" class="Symbol">(</a><a id="4385" href="Pat.Term.html#11807" class="Function">lift</a> <a id="4390" href="Function.Base.html#704" class="Function">id</a><a id="4392" class="Symbol">)</a> <a id="4394" class="Symbol">(</a><a id="4395" href="Pat.Denotational.html#4307" class="Function Operator">S⟦</a> <a id="4398" href="Pat.Denotational.html#4362" class="Bound">σ</a> <a id="4400" href="Pat.Denotational.html#4307" class="Function Operator">⟧</a> <a id="4402" href="Pat.Denotational.html#4366" class="Bound">γ</a><a id="4403" class="Symbol">)</a>
<a id="4405" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4408" href="Pat.Term.html#6968" class="InductiveConstructor">`true</a> <a id="4414" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4416" href="Pat.Denotational.html#4416" class="Bound">γ</a> <a id="4418" class="Symbol">=</a> <a id="4420" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="4425" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4428" href="Pat.Term.html#7036" class="InductiveConstructor">`false</a> <a id="4435" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4437" href="Pat.Denotational.html#4437" class="Bound">γ</a> <a id="4439" class="Symbol">=</a> <a id="4441" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
<a id="4447" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4450" href="Pat.Term.html#7102" class="InductiveConstructor Operator">`if</a> <a id="4454" href="Pat.Denotational.html#4454" class="Bound">e₁</a> <a id="4457" href="Pat.Term.html#7102" class="InductiveConstructor Operator">`then</a> <a id="4463" href="Pat.Denotational.html#4463" class="Bound">e₂</a> <a id="4466" href="Pat.Term.html#7102" class="InductiveConstructor Operator">`else</a> <a id="4472" href="Pat.Denotational.html#4472" class="Bound">e₃</a> <a id="4475" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4477" href="Pat.Denotational.html#4477" class="Bound">γ</a> <a id="4479" class="Symbol">=</a> <a id="4481" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="4484" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4487" href="Pat.Denotational.html#4454" class="Bound">e₁</a> <a id="4490" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4492" href="Pat.Denotational.html#4477" class="Bound">γ</a> <a id="4494" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="4499" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4502" href="Pat.Denotational.html#4463" class="Bound">e₂</a> <a id="4505" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4507" href="Pat.Denotational.html#4477" class="Bound">γ</a> <a id="4509" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="4514" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4517" href="Pat.Denotational.html#4472" class="Bound">e₃</a> <a id="4520" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4522" href="Pat.Denotational.html#4477" class="Bound">γ</a>
<a id="4524" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4527" href="Pat.Term.html#7251" class="InductiveConstructor Operator">`λ⟨_⟩_</a> <a id="4534" class="Symbol">{</a><a id="4535" class="Argument">A</a> <a id="4537" class="Symbol">=</a> <a id="4539" href="Pat.Denotational.html#4539" class="Bound">A</a><a id="4540" class="Symbol">}</a> <a id="4542" href="Pat.Denotational.html#4542" class="Bound">Δ</a> <a id="4544" href="Pat.Denotational.html#4544" class="Bound">e₁</a> <a id="4547" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4549" href="Pat.Denotational.html#4549" class="Bound">γ</a> <a id="4551" class="Symbol">=</a> <a id="4553" class="Symbol">λ</a> <a id="4555" href="Pat.Denotational.html#4555" class="Bound">σ</a> <a id="4557" href="Pat.Denotational.html#4557" class="Bound">d</a> <a id="4559" class="Symbol">→</a> <a id="4561" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4564" href="Pat.Denotational.html#4544" class="Bound">e₁</a> <a id="4567" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4569" class="Symbol">(</a><a id="4570" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="4577" href="Pat.Denotational.html#4555" class="Bound">σ</a> <a id="4579" href="Pat.Denotational.html#4549" class="Bound">γ</a> <a id="4581" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="4585" href="Pat.Denotational.html#3937" class="Function Operator">single⟦</a> <a id="4593" href="Pat.Denotational.html#4539" class="Bound">A</a> <a id="4595" href="Pat.Denotational.html#3937" class="Function Operator">⟧</a> <a id="4597" href="Pat.Denotational.html#4557" class="Bound">d</a><a id="4598" class="Symbol">)</a>
<a id="4600" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4603" href="Pat.Denotational.html#4603" class="Bound">e₁</a> <a id="4606" href="Pat.Term.html#7402" class="InductiveConstructor Operator">·</a> <a id="4608" href="Pat.Denotational.html#4608" class="Bound">e₂</a> <a id="4611" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4613" href="Pat.Denotational.html#4613" class="Bound">γ</a> <a id="4615" class="Symbol">=</a> <a id="4617" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4620" href="Pat.Denotational.html#4603" class="Bound">e₁</a> <a id="4623" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4625" href="Pat.Denotational.html#4613" class="Bound">γ</a> <a id="4627" class="Symbol">(</a><a id="4628" href="Pat.Term.html#11807" class="Function">lift</a> <a id="4633" href="Function.Base.html#704" class="Function">id</a><a id="4635" class="Symbol">)</a> <a id="4637" class="Symbol">(</a><a id="4638" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4641" href="Pat.Denotational.html#4608" class="Bound">e₂</a> <a id="4644" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4646" class="Symbol">(</a><a id="4647" href="Pat.Denotational.html#3788" class="Function">extG++</a> <a id="4654" class="Symbol">_</a> <a id="4656" href="Pat.Denotational.html#4613" class="Bound">γ</a><a id="4657" class="Symbol">))</a>
<a id="4660" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4663" href="Pat.Term.html#7533" class="InductiveConstructor Operator">⟨</a> <a id="4665" href="Pat.Denotational.html#4665" class="Bound">e</a> <a id="4667" href="Pat.Term.html#7533" class="InductiveConstructor Operator">⟩</a> <a id="4669" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4671" href="Pat.Denotational.html#4671" class="Bound">γ</a> <a id="4673" class="Symbol">=</a> <a id="4675" href="Pat.Substitution.html#4936" class="Function">subst</a> <a id="4681" class="Symbol">(</a><a id="4682" href="Pat.Denotational.html#4671" class="Bound">γ</a> <a id="4684" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a><a id="4686" class="Symbol">)</a> <a id="4688" href="Pat.Denotational.html#4665" class="Bound">e</a>
<a id="4690" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4693" href="Pat.Term.html#7627" class="InductiveConstructor Operator">`let⟨</a> <a id="4699" href="Pat.Denotational.html#4699" class="Bound">Δ</a> <a id="4701" href="Pat.Term.html#7627" class="InductiveConstructor Operator">⟩</a> <a id="4703" href="Pat.Denotational.html#4703" class="Bound">e₁</a> <a id="4706" href="Pat.Denotational.html#4706" class="Bound">e₂</a> <a id="4709" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4711" href="Pat.Denotational.html#4711" class="Bound">γ</a> <a id="4713" class="Symbol">=</a> <a id="4715" class="Keyword">let</a> <a id="4719" href="Pat.Denotational.html#4719" class="Bound">e</a> <a id="4721" class="Symbol">=</a> <a id="4723" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4726" href="Pat.Denotational.html#4703" class="Bound">e₁</a> <a id="4729" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4731" class="Symbol">(</a><a id="4732" href="Pat.Denotational.html#3788" class="Function">extG++</a> <a id="4739" href="Pat.Denotational.html#4699" class="Bound">Δ</a> <a id="4741" href="Pat.Denotational.html#4711" class="Bound">γ</a><a id="4742" class="Symbol">)</a> <a id="4744" class="Keyword">in</a> <a id="4747" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4750" href="Pat.Denotational.html#4706" class="Bound">e₂</a> <a id="4753" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4755" class="Symbol">(</a><a id="4756" href="Pat.Denotational.html#4711" class="Bound">γ</a> <a id="4758" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="4762" href="Pat.Term.html#1045" class="InductiveConstructor">term</a> <a id="4767" href="Pat.Denotational.html#4719" class="Bound">e</a><a id="4768" class="Symbol">)</a>
<a id="4770" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4773" href="Pat.Term.html#7812" class="InductiveConstructor">`wrap</a> <a id="4779" href="Pat.Denotational.html#4779" class="Bound">Δ</a> <a id="4781" href="Pat.Denotational.html#4781" class="Bound">e</a> <a id="4783" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4785" href="Pat.Denotational.html#4785" class="Bound">γ</a> <a id="4787" class="Symbol">=</a> <a id="4789" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4792" href="Pat.Denotational.html#4781" class="Bound">e</a> <a id="4794" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4796" class="Symbol">(</a><a id="4797" href="Pat.Denotational.html#3788" class="Function">extG++</a> <a id="4804" href="Pat.Denotational.html#4779" class="Bound">Δ</a> <a id="4806" href="Pat.Denotational.html#4785" class="Bound">γ</a><a id="4807" class="Symbol">)</a>
<a id="4809" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4812" href="Pat.Term.html#7933" class="InductiveConstructor">`letwrap</a> <a id="4821" class="Symbol">{</a><a id="4822" class="Argument">A</a> <a id="4824" class="Symbol">=</a> <a id="4826" href="Pat.Denotational.html#4826" class="Bound">A</a><a id="4827" class="Symbol">}</a> <a id="4829" href="Pat.Denotational.html#4829" class="Bound">Δ</a> <a id="4831" href="Pat.Denotational.html#4831" class="Bound">e₁</a> <a id="4834" href="Pat.Denotational.html#4834" class="Bound">e₂</a> <a id="4837" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4839" href="Pat.Denotational.html#4839" class="Bound">γ</a> <a id="4841" class="Symbol">=</a> <a id="4843" class="Keyword">let</a> <a id="4847" href="Pat.Denotational.html#4847" class="Bound">d</a> <a id="4849" class="Symbol">=</a> <a id="4851" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4854" href="Pat.Denotational.html#4831" class="Bound">e₁</a> <a id="4857" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4859" href="Pat.Denotational.html#4839" class="Bound">γ</a> <a id="4861" class="Keyword">in</a> <a id="4864" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4867" href="Pat.Denotational.html#4834" class="Bound">e₂</a> <a id="4870" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4872" class="Symbol">(</a><a id="4873" href="Pat.Denotational.html#4839" class="Bound">γ</a> <a id="4875" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="4879" href="Pat.Denotational.html#3937" class="Function Operator">single⟦</a> <a id="4887" href="Pat.Denotational.html#4826" class="Bound">A</a> <a id="4889" href="Pat.Denotational.html#3937" class="Function Operator">⟧</a> <a id="4891" href="Pat.Denotational.html#4847" class="Bound">d</a><a id="4892" class="Symbol">)</a>
<a id="4894" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4897" href="Pat.Term.html#8109" class="InductiveConstructor Operator">`iflet⟨_⟩</a> <a id="4907" class="Symbol">{</a><a id="4908" class="Argument">Π</a> <a id="4910" class="Symbol">=</a> <a id="4912" href="Pat.Denotational.html#4912" class="Bound">Π</a><a id="4913" class="Symbol">}</a> <a id="4915" href="Pat.Denotational.html#4915" class="Bound">Δ</a> <a id="4917" href="Pat.Denotational.html#4917" class="Bound">p</a> <a id="4919" href="Pat.Denotational.html#4919" class="Bound">e₁</a> <a id="4922" href="Pat.Denotational.html#4922" class="Bound">e₂</a> <a id="4925" href="Pat.Denotational.html#4925" class="Bound">e₃</a> <a id="4928" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4930" href="Pat.Denotational.html#4930" class="Bound">γ</a> <a id="4932" class="Symbol">=</a>
  <a id="4936" class="Keyword">let</a> <a id="4940" href="Pat.Denotational.html#4940" class="Bound">e</a> <a id="4942" class="Symbol">=</a> <a id="4944" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="4947" href="Pat.Denotational.html#4919" class="Bound">e₁</a> <a id="4950" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="4952" class="Symbol">(</a><a id="4953" href="Pat.Denotational.html#3788" class="Function">extG++</a> <a id="4960" href="Pat.Denotational.html#4915" class="Bound">Δ</a> <a id="4962" href="Pat.Denotational.html#4930" class="Bound">γ</a><a id="4963" class="Symbol">)</a> <a id="4965" class="Keyword">in</a>
  <a id="4970" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4975" href="Pat.Matching.html#920" class="Function">match</a> <a id="4981" class="Symbol">(</a><a id="4982" href="Pat.Substitution.html#5368" class="Function">substPattern</a> <a id="4995" class="Symbol">(</a><a id="4996" href="Pat.Denotational.html#4930" class="Bound">γ</a> <a id="4998" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a><a id="5000" class="Symbol">)</a> <a id="5002" href="Pat.Denotational.html#4917" class="Bound">p</a><a id="5003" class="Symbol">)</a> <a id="5005" href="Pat.Denotational.html#4940" class="Bound">e</a> <a id="5007" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5010" class="Symbol">λ</a> <a id="5012" class="Symbol">{</a>
    <a id="5018" class="Symbol">(</a><a id="5019" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5024" href="Pat.Denotational.html#5024" class="Bound">σ</a><a id="5025" class="Symbol">)</a> <a id="5027" class="Symbol">→</a> <a id="5029" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="5032" href="Pat.Denotational.html#4922" class="Bound">e₂</a> <a id="5035" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="5037" class="Symbol">(</a><a id="5038" href="Pat.Denotational.html#4930" class="Bound">γ</a> <a id="5040" href="Pat.Denotational.html#4145" class="Function Operator">∪</a> <a id="5042" href="Pat.Denotational.html#2446" class="Function">liftS</a> <a id="5048" href="Pat.Denotational.html#5024" class="Bound">σ</a><a id="5049" class="Symbol">);</a>
    <a id="5056" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="5064" class="Symbol">→</a> <a id="5066" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="5069" href="Pat.Denotational.html#4925" class="Bound">e₃</a> <a id="5072" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="5074" href="Pat.Denotational.html#4930" class="Bound">γ</a> <a id="5076" class="Symbol">}</a>
<a id="5078" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="5081" href="Pat.Term.html#8342" class="InductiveConstructor">`rewrite</a> <a id="5090" href="Pat.Denotational.html#5090" class="Bound">e₁</a> <a id="5093" href="Pat.Denotational.html#5093" class="Bound">p</a> <a id="5095" href="Pat.Denotational.html#5095" class="Bound">e₂</a> <a id="5098" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="5100" href="Pat.Denotational.html#5100" class="Bound">γ</a> <a id="5102" class="Symbol">=</a> <a id="5104" href="Pat.Rewriting.html#2679" class="Function">rewriteBottomUp</a> <a id="5120" class="Symbol">(</a><a id="5121" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="5124" href="Pat.Denotational.html#5090" class="Bound">e₁</a> <a id="5127" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="5129" href="Pat.Denotational.html#5100" class="Bound">γ</a><a id="5130" class="Symbol">)</a> <a id="5132" class="Symbol">(</a><a id="5133" href="Pat.Substitution.html#5368" class="Function">substPattern</a> <a id="5146" class="Symbol">(</a><a id="5147" href="Pat.Denotational.html#5100" class="Bound">γ</a> <a id="5149" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a><a id="5151" class="Symbol">)</a> <a id="5153" href="Pat.Denotational.html#5093" class="Bound">p</a><a id="5154" class="Symbol">)</a> <a id="5156" class="Symbol">(</a><a id="5157" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="5160" href="Pat.Denotational.html#5095" class="Bound">e₂</a> <a id="5163" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="5165" class="Symbol">(</a><a id="5166" href="Pat.Denotational.html#3788" class="Function">extG++</a> <a id="5173" class="Symbol">_</a> <a id="5175" href="Pat.Denotational.html#5100" class="Bound">γ</a><a id="5176" class="Symbol">))</a> 

<a id="5181" href="Pat.Denotational.html#4307" class="Function Operator">S⟦</a> <a id="5184" href="Pat.Term.html#1468" class="InductiveConstructor">∅</a> <a id="5186" href="Pat.Denotational.html#4307" class="Function Operator">⟧</a> <a id="5188" href="Pat.Denotational.html#5188" class="Bound">γ</a> <a id="5190" class="Symbol">=</a> <a id="5192" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="5195" href="Pat.Denotational.html#4307" class="Function Operator">S⟦</a> <a id="5198" href="Pat.Denotational.html#5198" class="Bound">σ</a> <a id="5200" href="Pat.Term.html#1481" class="InductiveConstructor Operator">,</a> <a id="5202" href="Pat.Term.html#1148" class="InductiveConstructor">var</a> <a id="5206" href="Pat.Denotational.html#5206" class="Bound">x</a> <a id="5208" href="Pat.Denotational.html#4307" class="Function Operator">⟧</a> <a id="5210" href="Pat.Denotational.html#5210" class="Bound">γ</a> <a id="5212" class="Symbol">=</a> <a id="5214" href="Pat.Denotational.html#4307" class="Function Operator">S⟦</a> <a id="5217" href="Pat.Denotational.html#5198" class="Bound">σ</a> <a id="5219" href="Pat.Denotational.html#4307" class="Function Operator">⟧</a> <a id="5221" href="Pat.Denotational.html#5210" class="Bound">γ</a> <a id="5223" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="5227" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="5235" href="Pat.Denotational.html#5210" class="Bound">γ</a> <a id="5237" href="Pat.Denotational.html#5206" class="Bound">x</a>
<a id="5239" href="Pat.Denotational.html#4307" class="Function Operator">S⟦</a> <a id="5242" href="Pat.Term.html#1481" class="InductiveConstructor Operator">_,_</a> <a id="5246" class="Symbol">{</a><a id="5247" class="Argument">m≥n</a> <a id="5251" class="Symbol">=</a> <a id="5253" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a><a id="5260" class="Symbol">}</a> <a id="5262" href="Pat.Denotational.html#5262" class="Bound">σ</a> <a id="5264" class="Symbol">(</a><a id="5265" href="Pat.Term.html#1045" class="InductiveConstructor">term</a> <a id="5270" href="Pat.Denotational.html#5270" class="Bound">e</a><a id="5271" class="Symbol">)</a> <a id="5273" href="Pat.Denotational.html#4307" class="Function Operator">⟧</a> <a id="5275" href="Pat.Denotational.html#5275" class="Bound">γ</a> <a id="5277" class="Symbol">=</a> <a id="5279" href="Pat.Denotational.html#4307" class="Function Operator">S⟦</a> <a id="5282" href="Pat.Denotational.html#5262" class="Bound">σ</a> <a id="5284" href="Pat.Denotational.html#4307" class="Function Operator">⟧</a> <a id="5286" href="Pat.Denotational.html#5275" class="Bound">γ</a> <a id="5288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="5292" class="Symbol">λ</a> <a id="5294" href="Pat.Denotational.html#5294" class="Bound">σ′</a> <a id="5297" href="Pat.Denotational.html#5297" class="Bound">γ′</a> <a id="5300" class="Symbol">→</a> <a id="5302" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="5305" href="Pat.Denotational.html#5270" class="Bound">e</a> <a id="5307" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="5309" class="Symbol">((</a><a id="5311" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="5318" href="Pat.Denotational.html#5294" class="Bound">σ′</a> <a id="5321" href="Pat.Denotational.html#5275" class="Bound">γ</a><a id="5322" class="Symbol">)</a> <a id="5324" href="Pat.Denotational.html#4145" class="Function Operator">∪</a> <a id="5326" href="Pat.Denotational.html#5297" class="Bound">γ′</a><a id="5328" class="Symbol">)</a>
<a id="5330" href="Pat.Denotational.html#4307" class="Function Operator">S⟦</a> <a id="5333" href="Pat.Term.html#1481" class="InductiveConstructor Operator">_,_</a> <a id="5337" class="Symbol">{</a><a id="5338" class="Argument">m≥n</a> <a id="5342" class="Symbol">=</a> <a id="5344" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a> <a id="5352" href="Pat.Denotational.html#5352" class="Bound">m≥sn</a><a id="5356" class="Symbol">}</a> <a id="5358" href="Pat.Denotational.html#5358" class="Bound">σ</a> <a id="5360" class="Symbol">(</a><a id="5361" href="Pat.Term.html#1045" class="InductiveConstructor">term</a> <a id="5366" href="Pat.Denotational.html#5366" class="Bound">e</a><a id="5367" class="Symbol">)</a> <a id="5369" href="Pat.Denotational.html#4307" class="Function Operator">⟧</a> <a id="5371" href="Pat.Denotational.html#5371" class="Bound">γ</a> <a id="5373" class="Symbol">=</a> <a id="5375" href="Pat.Denotational.html#4307" class="Function Operator">S⟦</a> <a id="5378" href="Pat.Denotational.html#5358" class="Bound">σ</a> <a id="5380" href="Pat.Denotational.html#4307" class="Function Operator">⟧</a> <a id="5382" href="Pat.Denotational.html#5371" class="Bound">γ</a> <a id="5384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="5388" href="Pat.Term.html#1045" class="InductiveConstructor">term</a> <a id="5393" class="Symbol">(</a><a id="5394" href="Pat.Substitution.html#4936" class="Function">subst</a> <a id="5400" class="Symbol">(</a><a id="5401" href="Pat.Term.html#12103" class="Function">exts++</a> <a id="5408" class="Symbol">_</a> <a id="5410" class="Symbol">(</a><a id="5411" href="Pat.Term.html#12824" class="Function">exts↾≥</a> <a id="5418" href="Pat.Denotational.html#5352" class="Bound">m≥sn</a> <a id="5423" class="Symbol">(</a><a id="5424" href="Pat.Denotational.html#5371" class="Bound">γ</a> <a id="5426" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a><a id="5428" class="Symbol">)))</a> <a id="5432" href="Pat.Denotational.html#5366" class="Bound">e</a><a id="5433" class="Symbol">)</a>
<a id="5435" href="Pat.Denotational.html#4307" class="Function Operator">S⟦</a> <a id="5438" href="Pat.Denotational.html#5438" class="Bound">σ₁</a> <a id="5441" href="Pat.Term.html#1560" class="InductiveConstructor Operator">++ˢ</a> <a id="5445" href="Pat.Denotational.html#5445" class="Bound">σ₂</a> <a id="5448" href="Pat.Denotational.html#4307" class="Function Operator">⟧</a> <a id="5450" href="Pat.Denotational.html#5450" class="Bound">γ</a> <a id="5452" class="Symbol">=</a> <a id="5454" href="Pat.Denotational.html#4307" class="Function Operator">S⟦</a> <a id="5457" href="Pat.Denotational.html#5438" class="Bound">σ₁</a> <a id="5460" href="Pat.Denotational.html#4307" class="Function Operator">⟧</a> <a id="5462" href="Pat.Denotational.html#5450" class="Bound">γ</a> <a id="5464" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="5468" href="Pat.Denotational.html#4307" class="Function Operator">S⟦</a> <a id="5471" href="Pat.Denotational.html#5445" class="Bound">σ₂</a> <a id="5474" href="Pat.Denotational.html#4307" class="Function Operator">⟧</a> <a id="5476" href="Pat.Denotational.html#5450" class="Bound">γ</a>


<a id="5480" class="Comment">-- | Evaluation under a later-stage context</a>
<a id="eval"></a><a id="5524" href="Pat.Denotational.html#5524" class="Function">eval</a> <a id="5529" class="Symbol">:</a> <a id="5531" href="Pat.Term.html#560" class="Datatype">Term</a> <a id="5536" href="Data.StagedList.html#843" class="Generalizable">n</a> <a id="5538" class="Symbol">(</a><a id="5539" href="Data.StagedList.html#2668" class="Function">inject₁</a> <a id="5547" href="Pat.Context.html#578" class="Generalizable">Γ</a><a id="5548" class="Symbol">)</a> <a id="5550" href="Pat.Context.html#557" class="Generalizable">A</a> <a id="5552" class="Symbol">→</a> <a id="5554" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="5556" href="Pat.Context.html#557" class="Generalizable">A</a> <a id="5558" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="5560" href="Pat.Context.html#578" class="Generalizable">Γ</a>
<a id="5562" href="Pat.Denotational.html#5524" class="Function">eval</a> <a id="5567" href="Pat.Denotational.html#5567" class="Bound">e</a> <a id="5569" class="Symbol">=</a> <a id="5571" href="Pat.Denotational.html#4266" class="Function Operator">E⟦</a> <a id="5574" href="Pat.Denotational.html#5567" class="Bound">e</a> <a id="5576" href="Pat.Denotational.html#4266" class="Function Operator">⟧</a> <a id="5578" class="Symbol">(</a><a id="5579" href="Pat.Denotational.html#3016" class="Function">liftG</a> <a id="5585" href="Function.Base.html#704" class="Function">id</a><a id="5587" class="Symbol">)</a>

<a id="5590" class="Comment">-- Some tests from the Examples module. See the Examples module for more details.</a>
<a id="test₁"></a><a id="5672" href="Pat.Denotational.html#5672" class="Function">test₁</a> <a id="5678" class="Symbol">:</a> <a id="5680" href="Pat.Denotational.html#5524" class="Function">eval</a> <a id="5685" class="Symbol">{</a><a id="5686" class="Argument">n</a> <a id="5688" class="Symbol">=</a> <a id="5690" class="Number">0</a><a id="5691" class="Symbol">}</a> <a id="5693" class="Symbol">{</a><a id="5694" class="Argument">Γ</a> <a id="5696" class="Symbol">=</a> <a id="5698" class="InductiveConstructor">∅</a><a id="5699" class="Symbol">}</a> <a id="5701" class="Symbol">(</a><a id="5702" class="InductiveConstructor Operator">`if</a> <a id="5706" class="InductiveConstructor">`true</a> <a id="5712" class="InductiveConstructor Operator">`then</a> <a id="5718" class="InductiveConstructor">`true</a> <a id="5724" class="InductiveConstructor Operator">`else</a> <a id="5730" class="InductiveConstructor">`false</a><a id="5736" class="Symbol">)</a> <a id="5738" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5740" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="5745" href="Pat.Denotational.html#5672" class="Function">test₁</a> <a id="5751" class="Symbol">=</a> <a id="5753" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="test₂"></a><a id="5759" href="Pat.Denotational.html#5759" class="Function">test₂</a> <a id="5765" class="Symbol">:</a> <a id="5767" href="Pat.Denotational.html#5524" class="Function">eval</a> <a id="5772" class="Symbol">{</a><a id="5773" class="Argument">n</a> <a id="5775" class="Symbol">=</a> <a id="5777" class="Number">0</a><a id="5778" class="Symbol">}</a> <a id="5780" class="Symbol">{</a><a id="5781" class="Argument">Γ</a> <a id="5783" class="Symbol">=</a> <a id="5785" class="InductiveConstructor">∅</a><a id="5786" class="Symbol">}</a> <a id="5788" class="Symbol">(</a><a id="5789" class="InductiveConstructor Operator">`let⟨</a> <a id="5795" class="InductiveConstructor">∅</a> <a id="5797" class="InductiveConstructor Operator">⟩</a> <a id="5799" class="InductiveConstructor Operator">⟨</a> <a id="5801" class="InductiveConstructor">`true</a> <a id="5807" class="InductiveConstructor Operator">⟩</a> <a id="5809" class="InductiveConstructor Operator">⟨</a> <a id="5811" class="InductiveConstructor Operator">`if</a> <a id="5815" class="Symbol">(</a><a id="5816" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`</a> <a id="5818" href="Data.StagedList.html#21441" class="Function">#</a> <a id="5820" class="Number">0</a> <a id="5822" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`with</a> <a id="5828" class="InductiveConstructor">∅</a><a id="5829" class="Symbol">)</a> <a id="5831" class="InductiveConstructor Operator">`then</a> <a id="5837" class="InductiveConstructor">`true</a> <a id="5843" class="InductiveConstructor Operator">`else</a> <a id="5849" class="InductiveConstructor">`false</a> <a id="5856" class="InductiveConstructor Operator">⟩</a><a id="5857" class="Symbol">)</a> <a id="5859" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5861" class="Symbol">(</a><a id="5862" class="InductiveConstructor Operator">`if</a> <a id="5866" class="InductiveConstructor">`true</a> <a id="5872" class="InductiveConstructor Operator">`then</a> <a id="5878" class="InductiveConstructor">`true</a> <a id="5884" class="InductiveConstructor Operator">`else</a> <a id="5890" class="InductiveConstructor">`false</a><a id="5896" class="Symbol">)</a>
<a id="5898" href="Pat.Denotational.html#5759" class="Function">test₂</a> <a id="5904" class="Symbol">=</a> <a id="5906" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="test₃"></a><a id="5912" href="Pat.Denotational.html#5912" class="Function">test₃</a> <a id="5918" class="Symbol">:</a> <a id="5920" href="Pat.Denotational.html#5524" class="Function">eval</a> <a id="5925" class="Symbol">{</a><a id="5926" class="Argument">n</a> <a id="5928" class="Symbol">=</a> <a id="5930" class="Number">0</a><a id="5931" class="Symbol">}</a> <a id="5933" class="Symbol">{</a><a id="5934" class="Argument">Γ</a> <a id="5936" class="Symbol">=</a> <a id="5938" class="InductiveConstructor">∅</a><a id="5939" class="Symbol">}</a> <a id="5941" class="Symbol">(</a><a id="5942" class="InductiveConstructor Operator">`let⟨</a> <a id="5948" class="InductiveConstructor">∅</a> <a id="5950" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="5953" class="Symbol">(</a><a id="5954" class="InductiveConstructor">∅</a> <a id="5956" href="Pat.Context.html#702" class="InductiveConstructor Operator">,</a> <a id="5958" href="Pat.Context.html#1170" class="InductiveConstructor">`Bool</a> <a id="5964" href="Pat.Context.html#702" class="InductiveConstructor Operator">^</a> <a id="5966" class="Number">1</a><a id="5967" class="Symbol">)</a> <a id="5969" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="5971" href="Pat.Context.html#1170" class="InductiveConstructor">`Bool</a> <a id="5977" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="5979" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a> <a id="5987" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a> <a id="5989" class="InductiveConstructor Operator">⟩</a> <a id="5991" class="Symbol">(</a><a id="5992" class="InductiveConstructor Operator">`let⟨</a>  <a id="5999" class="InductiveConstructor">∅</a> <a id="6001" class="InductiveConstructor Operator">⟩</a> <a id="6003" class="InductiveConstructor Operator">⟨</a> <a id="6005" class="InductiveConstructor">`true</a> <a id="6011" class="InductiveConstructor Operator">⟩</a> <a id="6013" class="InductiveConstructor Operator">⟨</a> <a id="6015" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`</a> <a id="6017" href="Data.StagedList.html#21441" class="Function">#</a> <a id="6019" class="Number">1</a> <a id="6021" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`with</a> <a id="6027" class="Symbol">(</a><a id="6028" class="InductiveConstructor">∅</a> <a id="6030" class="InductiveConstructor Operator">,</a> <a id="6032" class="InductiveConstructor">var</a> <a id="6036" href="Data.StagedList.html#5871" class="InductiveConstructor">Z</a><a id="6037" class="Symbol">)</a> <a id="6039" class="InductiveConstructor Operator">⟩</a><a id="6040" class="Symbol">)</a> <a id="6042" class="InductiveConstructor Operator">⟨</a> <a id="6044" class="InductiveConstructor">`true</a> <a id="6050" class="InductiveConstructor Operator">⟩</a><a id="6051" class="Symbol">)</a> <a id="6053" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6055" class="Symbol">(</a><a id="6056" class="InductiveConstructor">`true</a><a id="6061" class="Symbol">)</a>
<a id="6063" href="Pat.Denotational.html#5912" class="Function">test₃</a> <a id="6069" class="Symbol">=</a> <a id="6071" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="test₄"></a><a id="6077" href="Pat.Denotational.html#6077" class="Function">test₄</a> <a id="6083" class="Symbol">:</a> <a id="6085" href="Pat.Denotational.html#5524" class="Function">eval</a> <a id="6090" class="Symbol">{</a><a id="6091" class="Argument">n</a> <a id="6093" class="Symbol">=</a> <a id="6095" class="Number">0</a><a id="6096" class="Symbol">}</a> <a id="6098" class="Symbol">{</a><a id="6099" class="Argument">Γ</a> <a id="6101" class="Symbol">=</a> <a id="6103" class="InductiveConstructor">∅</a><a id="6104" class="Symbol">}</a> <a id="6106" class="Symbol">(</a><a id="6107" class="InductiveConstructor Operator">`let⟨</a> <a id="6113" class="InductiveConstructor">∅</a> <a id="6115" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">,[</a> <a id="6118" class="Symbol">(</a><a id="6119" class="InductiveConstructor">∅</a> <a id="6121" href="Pat.Context.html#702" class="InductiveConstructor Operator">,</a> <a id="6123" href="Pat.Context.html#1170" class="InductiveConstructor">`Bool</a> <a id="6129" href="Pat.Context.html#702" class="InductiveConstructor Operator">^</a> <a id="6131" class="Number">1</a><a id="6132" class="Symbol">)</a> <a id="6134" href="Data.StagedTree.html#724" class="InductiveConstructor Operator">⊢</a> <a id="6136" href="Pat.Context.html#1170" class="InductiveConstructor">`Bool</a> <a id="6142" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">^</a> <a id="6144" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a> <a id="6152" href="Data.StagedList.html#1928" class="InductiveConstructor Operator">]</a> <a id="6154" class="InductiveConstructor Operator">⟩</a> <a id="6156" class="Symbol">(</a><a id="6157" class="InductiveConstructor Operator">`let⟨</a> <a id="6163" class="InductiveConstructor">∅</a> <a id="6165" class="InductiveConstructor Operator">⟩</a> <a id="6167" class="InductiveConstructor Operator">⟨</a> <a id="6169" class="InductiveConstructor">`true</a> <a id="6175" class="InductiveConstructor Operator">⟩</a> <a id="6177" class="InductiveConstructor Operator">⟨</a> <a id="6179" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`</a> <a id="6181" href="Data.StagedList.html#21441" class="Function">#</a> <a id="6183" class="Number">1</a> <a id="6185" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`with</a> <a id="6191" class="Symbol">(</a><a id="6192" class="InductiveConstructor">∅</a> <a id="6194" class="InductiveConstructor Operator">,</a> <a id="6196" class="InductiveConstructor">var</a> <a id="6200" href="Data.StagedList.html#5871" class="InductiveConstructor">Z</a><a id="6201" class="Symbol">)</a> <a id="6203" class="InductiveConstructor Operator">⟩</a><a id="6204" class="Symbol">)</a> <a id="6206" class="Symbol">(</a><a id="6207" class="InductiveConstructor Operator">`let⟨</a> <a id="6213" class="InductiveConstructor">∅</a> <a id="6215" href="Pat.Context.html#702" class="InductiveConstructor Operator">,</a> <a id="6217" href="Pat.Context.html#1170" class="InductiveConstructor">`Bool</a> <a id="6223" href="Pat.Context.html#702" class="InductiveConstructor Operator">^</a> <a id="6225" class="Number">1</a> <a id="6227" class="InductiveConstructor Operator">⟩</a> <a id="6229" class="InductiveConstructor Operator">⟨</a> <a id="6231" class="InductiveConstructor Operator">`if</a> <a id="6235" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`</a> <a id="6237" href="Data.StagedList.html#21441" class="Function">#</a> <a id="6239" class="Number">0</a> <a id="6241" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`with</a> <a id="6247" class="InductiveConstructor">∅</a> <a id="6249" class="InductiveConstructor Operator">`then</a> <a id="6255" class="InductiveConstructor">`true</a> <a id="6261" class="InductiveConstructor Operator">`else</a> <a id="6267" class="InductiveConstructor">`false</a> <a id="6274" class="InductiveConstructor Operator">⟩</a> <a id="6276" class="Symbol">(</a><a id="6277" class="InductiveConstructor Operator">`let⟨</a> <a id="6283" class="InductiveConstructor">∅</a> <a id="6285" class="InductiveConstructor Operator">⟩</a> <a id="6287" class="InductiveConstructor Operator">⟨</a> <a id="6289" class="InductiveConstructor">`false</a> <a id="6296" class="InductiveConstructor Operator">⟩</a> <a id="6298" class="InductiveConstructor Operator">⟨</a> <a id="6300" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`</a> <a id="6302" href="Data.StagedList.html#21441" class="Function">#</a> <a id="6304" class="Number">2</a> <a id="6306" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`with</a> <a id="6312" class="Symbol">(</a><a id="6313" class="InductiveConstructor">∅</a> <a id="6315" class="InductiveConstructor Operator">,</a> <a id="6317" class="InductiveConstructor">var</a> <a id="6321" class="Symbol">(</a><a id="6322" href="Data.StagedList.html#21441" class="Function">#</a> <a id="6324" class="Number">1</a><a id="6325" class="Symbol">))</a><a id="6327" class="InductiveConstructor Operator">⟩</a><a id="6328" class="Symbol">)))</a> <a id="6332" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6334" class="Symbol">(</a><a id="6335" class="InductiveConstructor Operator">`if</a> <a id="6339" class="InductiveConstructor">`true</a> <a id="6345" class="InductiveConstructor Operator">`then</a> <a id="6351" class="InductiveConstructor">`true</a> <a id="6357" class="InductiveConstructor Operator">`else</a> <a id="6363" class="InductiveConstructor">`false</a><a id="6369" class="Symbol">)</a>
<a id="6371" href="Pat.Denotational.html#6077" class="Function">test₄</a> <a id="6377" class="Symbol">=</a> <a id="6379" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="test₅"></a><a id="6385" href="Pat.Denotational.html#6385" class="Function">test₅</a> <a id="6391" class="Symbol">:</a> <a id="6393" href="Pat.Denotational.html#5524" class="Function">eval</a> <a id="6398" class="Symbol">{</a><a id="6399" class="Argument">n</a> <a id="6401" class="Symbol">=</a> <a id="6403" class="Number">0</a><a id="6404" class="Symbol">}</a> <a id="6406" class="Symbol">{</a><a id="6407" class="Argument">Γ</a> <a id="6409" class="Symbol">=</a> <a id="6411" class="InductiveConstructor">∅</a><a id="6412" class="Symbol">}</a> <a id="6414" class="Symbol">(</a><a id="6415" class="InductiveConstructor Operator">`let⟨</a> <a id="6421" class="InductiveConstructor">∅</a> <a id="6423" href="Pat.Context.html#702" class="InductiveConstructor Operator">,</a> <a id="6425" href="Pat.Context.html#1170" class="InductiveConstructor">`Bool</a> <a id="6431" href="Pat.Context.html#702" class="InductiveConstructor Operator">^</a> <a id="6433" class="Number">1</a> <a id="6435" class="InductiveConstructor Operator">⟩</a> <a id="6437" class="InductiveConstructor Operator">⟨</a> <a id="6439" class="InductiveConstructor Operator">`if</a> <a id="6443" class="Symbol">(</a><a id="6444" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`</a> <a id="6446" href="Data.StagedList.html#21441" class="Function">#</a> <a id="6448" class="Number">0</a> <a id="6450" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`with</a> <a id="6456" class="InductiveConstructor">∅</a><a id="6457" class="Symbol">)</a> <a id="6459" class="InductiveConstructor Operator">`then</a> <a id="6465" class="InductiveConstructor">`true</a> <a id="6471" class="InductiveConstructor Operator">`else</a> <a id="6477" class="InductiveConstructor">`false</a> <a id="6484" class="InductiveConstructor Operator">⟩</a> <a id="6486" class="Symbol">(</a><a id="6487" class="InductiveConstructor Operator">`let⟨</a> <a id="6493" class="InductiveConstructor">∅</a> <a id="6495" class="InductiveConstructor Operator">⟩</a> <a id="6497" class="InductiveConstructor Operator">⟨</a> <a id="6499" class="InductiveConstructor">`true</a> <a id="6505" class="InductiveConstructor Operator">⟩</a> <a id="6507" class="InductiveConstructor Operator">⟨</a> <a id="6509" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`</a> <a id="6511" href="Data.StagedList.html#21441" class="Function">#</a> <a id="6513" class="Number">1</a> <a id="6515" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`with</a> <a id="6521" class="Symbol">(</a><a id="6522" class="InductiveConstructor">∅</a> <a id="6524" class="InductiveConstructor Operator">,</a> <a id="6526" class="InductiveConstructor">var</a> <a id="6530" class="Symbol">(</a><a id="6531" href="Data.StagedList.html#21441" class="Function">#</a> <a id="6533" class="Number">0</a><a id="6534" class="Symbol">))</a>  <a id="6538" class="InductiveConstructor Operator">⟩</a><a id="6539" class="Symbol">))</a> <a id="6542" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6544" class="Symbol">(</a> <a id="6546" class="InductiveConstructor Operator">`if</a> <a id="6550" class="InductiveConstructor">`true</a> <a id="6556" class="InductiveConstructor Operator">`then</a> <a id="6562" class="InductiveConstructor">`true</a> <a id="6568" class="InductiveConstructor Operator">`else</a> <a id="6574" class="InductiveConstructor">`false</a> <a id="6581" class="Symbol">)</a>
<a id="6583" href="Pat.Denotational.html#6385" class="Function">test₅</a> <a id="6589" class="Symbol">=</a> <a id="6591" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>


<a id="6598" class="Comment">-- | Alternative interpretation which evaluates the replacement expression at each pattern match.</a>
<a id="E′⟦_⟧"></a><a id="6696" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦_⟧</a> <a id="6702" class="Symbol">:</a> <a id="6704" href="Pat.Term.html#560" class="Datatype">Term</a> <a id="6709" href="Data.StagedList.html#843" class="Generalizable">n</a> <a id="6711" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="6713" href="Pat.Context.html#557" class="Generalizable">A</a> <a id="6715" class="Symbol">→</a> <a id="6717" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="6720" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="6722" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="6724" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="6727" class="Symbol">→</a> <a id="6729" href="Pat.Denotational.html#844" class="Function Operator">⟦</a> <a id="6731" href="Pat.Context.html#557" class="Generalizable">A</a> <a id="6733" href="Pat.Denotational.html#844" class="Function Operator">⟧</a> <a id="6735" href="Pat.Context.html#582" class="Generalizable">Γ′</a>
<a id="S′⟦_⟧"></a><a id="6738" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦_⟧</a> <a id="6744" class="Symbol">:</a> <a id="6746" href="Pat.Term.html#2470" class="Function">Subst</a> <a id="6752" href="Pat.Context.html#580" class="Generalizable">Δ</a> <a id="6754" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="6756" class="Symbol">→</a> <a id="6758" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="6761" href="Pat.Context.html#578" class="Generalizable">Γ</a> <a id="6763" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="6765" href="Pat.Context.html#582" class="Generalizable">Γ′</a> <a id="6768" class="Symbol">→</a> <a id="6770" href="Pat.Denotational.html#1434" class="Function Operator">G⟦</a> <a id="6773" href="Pat.Context.html#580" class="Generalizable">Δ</a> <a id="6775" href="Pat.Denotational.html#1434" class="Function Operator">⟧</a> <a id="6777" href="Pat.Context.html#582" class="Generalizable">Γ′</a>

<a id="6781" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="6785" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`</a> <a id="6787" href="Pat.Denotational.html#6787" class="Bound">x</a> <a id="6789" href="Pat.Term.html#6841" class="InductiveConstructor Operator">`with</a> <a id="6795" href="Pat.Denotational.html#6795" class="Bound">σ</a> <a id="6797" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="6799" href="Pat.Denotational.html#6799" class="Bound">γ</a> <a id="6801" class="Symbol">=</a> <a id="6803" class="Symbol">(</a><a id="6804" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="6812" href="Pat.Denotational.html#6799" class="Bound">γ</a> <a id="6814" href="Pat.Denotational.html#6787" class="Bound">x</a><a id="6815" class="Symbol">)</a> <a id="6817" class="Symbol">(</a><a id="6818" href="Pat.Term.html#11807" class="Function">lift</a> <a id="6823" href="Function.Base.html#704" class="Function">id</a><a id="6825" class="Symbol">)</a> <a id="6827" class="Symbol">(</a><a id="6828" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦</a> <a id="6832" href="Pat.Denotational.html#6795" class="Bound">σ</a> <a id="6834" href="Pat.Denotational.html#6738" class="Function Operator">⟧</a> <a id="6836" href="Pat.Denotational.html#6799" class="Bound">γ</a><a id="6837" class="Symbol">)</a>
<a id="6839" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="6843" href="Pat.Term.html#6968" class="InductiveConstructor">`true</a> <a id="6849" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="6851" href="Pat.Denotational.html#6851" class="Bound">γ</a> <a id="6853" class="Symbol">=</a> <a id="6855" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="6860" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="6864" href="Pat.Term.html#7036" class="InductiveConstructor">`false</a> <a id="6871" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="6873" href="Pat.Denotational.html#6873" class="Bound">γ</a> <a id="6875" class="Symbol">=</a> <a id="6877" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
<a id="6883" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="6887" href="Pat.Term.html#7102" class="InductiveConstructor Operator">`if</a> <a id="6891" href="Pat.Denotational.html#6891" class="Bound">e₁</a> <a id="6894" href="Pat.Term.html#7102" class="InductiveConstructor Operator">`then</a> <a id="6900" href="Pat.Denotational.html#6900" class="Bound">e₂</a> <a id="6903" href="Pat.Term.html#7102" class="InductiveConstructor Operator">`else</a> <a id="6909" href="Pat.Denotational.html#6909" class="Bound">e₃</a> <a id="6912" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="6914" href="Pat.Denotational.html#6914" class="Bound">γ</a> <a id="6916" class="Symbol">=</a> <a id="6918" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="6921" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="6925" href="Pat.Denotational.html#6891" class="Bound">e₁</a> <a id="6928" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="6930" href="Pat.Denotational.html#6914" class="Bound">γ</a> <a id="6932" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="6937" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="6941" href="Pat.Denotational.html#6900" class="Bound">e₂</a> <a id="6944" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="6946" href="Pat.Denotational.html#6914" class="Bound">γ</a> <a id="6948" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="6953" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="6957" href="Pat.Denotational.html#6909" class="Bound">e₃</a> <a id="6960" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="6962" href="Pat.Denotational.html#6914" class="Bound">γ</a>
<a id="6964" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="6968" href="Pat.Term.html#7251" class="InductiveConstructor Operator">`λ⟨_⟩_</a> <a id="6975" class="Symbol">{</a><a id="6976" class="Argument">A</a> <a id="6978" class="Symbol">=</a> <a id="6980" href="Pat.Denotational.html#6980" class="Bound">A</a><a id="6981" class="Symbol">}</a> <a id="6983" href="Pat.Denotational.html#6983" class="Bound">Δ</a> <a id="6985" href="Pat.Denotational.html#6985" class="Bound">e₁</a> <a id="6988" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="6990" href="Pat.Denotational.html#6990" class="Bound">γ</a> <a id="6992" class="Symbol">=</a> <a id="6994" class="Symbol">λ</a> <a id="6996" href="Pat.Denotational.html#6996" class="Bound">σ</a> <a id="6998" href="Pat.Denotational.html#6998" class="Bound">d</a> <a id="7000" class="Symbol">→</a> <a id="7002" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7006" href="Pat.Denotational.html#6985" class="Bound">e₁</a> <a id="7009" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7011" class="Symbol">(</a><a id="7012" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="7019" href="Pat.Denotational.html#6996" class="Bound">σ</a> <a id="7021" href="Pat.Denotational.html#6990" class="Bound">γ</a> <a id="7023" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="7027" href="Pat.Denotational.html#3937" class="Function Operator">single⟦</a> <a id="7035" href="Pat.Denotational.html#6980" class="Bound">A</a> <a id="7037" href="Pat.Denotational.html#3937" class="Function Operator">⟧</a> <a id="7039" href="Pat.Denotational.html#6998" class="Bound">d</a><a id="7040" class="Symbol">)</a>
<a id="7042" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7046" href="Pat.Denotational.html#7046" class="Bound">e₁</a> <a id="7049" href="Pat.Term.html#7402" class="InductiveConstructor Operator">·</a> <a id="7051" href="Pat.Denotational.html#7051" class="Bound">e₂</a> <a id="7054" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7056" href="Pat.Denotational.html#7056" class="Bound">γ</a> <a id="7058" class="Symbol">=</a> <a id="7060" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7064" href="Pat.Denotational.html#7046" class="Bound">e₁</a> <a id="7067" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7069" href="Pat.Denotational.html#7056" class="Bound">γ</a> <a id="7071" class="Symbol">(</a><a id="7072" href="Pat.Term.html#11807" class="Function">lift</a> <a id="7077" href="Function.Base.html#704" class="Function">id</a><a id="7079" class="Symbol">)</a> <a id="7081" class="Symbol">(</a><a id="7082" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7086" href="Pat.Denotational.html#7051" class="Bound">e₂</a> <a id="7089" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7091" class="Symbol">(</a><a id="7092" href="Pat.Denotational.html#3788" class="Function">extG++</a> <a id="7099" class="Symbol">_</a> <a id="7101" href="Pat.Denotational.html#7056" class="Bound">γ</a><a id="7102" class="Symbol">))</a>
<a id="7105" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7109" href="Pat.Term.html#7533" class="InductiveConstructor Operator">⟨</a> <a id="7111" href="Pat.Denotational.html#7111" class="Bound">e</a> <a id="7113" href="Pat.Term.html#7533" class="InductiveConstructor Operator">⟩</a> <a id="7115" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7117" href="Pat.Denotational.html#7117" class="Bound">γ</a> <a id="7119" class="Symbol">=</a> <a id="7121" href="Pat.Substitution.html#4936" class="Function">subst</a> <a id="7127" class="Symbol">(</a><a id="7128" href="Pat.Denotational.html#7117" class="Bound">γ</a> <a id="7130" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a><a id="7132" class="Symbol">)</a> <a id="7134" href="Pat.Denotational.html#7111" class="Bound">e</a>
<a id="7136" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7140" href="Pat.Term.html#7627" class="InductiveConstructor Operator">`let⟨</a> <a id="7146" href="Pat.Denotational.html#7146" class="Bound">Δ</a> <a id="7148" href="Pat.Term.html#7627" class="InductiveConstructor Operator">⟩</a> <a id="7150" href="Pat.Denotational.html#7150" class="Bound">e₁</a> <a id="7153" href="Pat.Denotational.html#7153" class="Bound">e₂</a> <a id="7156" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7158" href="Pat.Denotational.html#7158" class="Bound">γ</a> <a id="7160" class="Symbol">=</a> <a id="7162" class="Keyword">let</a> <a id="7166" href="Pat.Denotational.html#7166" class="Bound">e</a> <a id="7168" class="Symbol">=</a> <a id="7170" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7174" href="Pat.Denotational.html#7150" class="Bound">e₁</a> <a id="7177" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7179" class="Symbol">(</a><a id="7180" href="Pat.Denotational.html#3788" class="Function">extG++</a> <a id="7187" href="Pat.Denotational.html#7146" class="Bound">Δ</a> <a id="7189" href="Pat.Denotational.html#7158" class="Bound">γ</a><a id="7190" class="Symbol">)</a> <a id="7192" class="Keyword">in</a> <a id="7195" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7199" href="Pat.Denotational.html#7153" class="Bound">e₂</a> <a id="7202" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7204" class="Symbol">(</a><a id="7205" href="Pat.Denotational.html#7158" class="Bound">γ</a> <a id="7207" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="7211" href="Pat.Term.html#1045" class="InductiveConstructor">term</a> <a id="7216" href="Pat.Denotational.html#7166" class="Bound">e</a><a id="7217" class="Symbol">)</a>
<a id="7219" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7223" href="Pat.Term.html#7812" class="InductiveConstructor">`wrap</a> <a id="7229" href="Pat.Denotational.html#7229" class="Bound">Δ</a> <a id="7231" href="Pat.Denotational.html#7231" class="Bound">e</a> <a id="7233" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7235" href="Pat.Denotational.html#7235" class="Bound">γ</a> <a id="7237" class="Symbol">=</a> <a id="7239" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7243" href="Pat.Denotational.html#7231" class="Bound">e</a> <a id="7245" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7247" class="Symbol">(</a><a id="7248" href="Pat.Denotational.html#3788" class="Function">extG++</a> <a id="7255" href="Pat.Denotational.html#7229" class="Bound">Δ</a> <a id="7257" href="Pat.Denotational.html#7235" class="Bound">γ</a><a id="7258" class="Symbol">)</a>
<a id="7260" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7264" href="Pat.Term.html#7933" class="InductiveConstructor">`letwrap</a> <a id="7273" class="Symbol">{</a><a id="7274" class="Argument">A</a> <a id="7276" class="Symbol">=</a> <a id="7278" href="Pat.Denotational.html#7278" class="Bound">A</a><a id="7279" class="Symbol">}</a> <a id="7281" href="Pat.Denotational.html#7281" class="Bound">Δ</a> <a id="7283" href="Pat.Denotational.html#7283" class="Bound">e₁</a> <a id="7286" href="Pat.Denotational.html#7286" class="Bound">e₂</a> <a id="7289" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7291" href="Pat.Denotational.html#7291" class="Bound">γ</a> <a id="7293" class="Symbol">=</a> <a id="7295" class="Keyword">let</a> <a id="7299" href="Pat.Denotational.html#7299" class="Bound">d</a> <a id="7301" class="Symbol">=</a> <a id="7303" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7307" href="Pat.Denotational.html#7283" class="Bound">e₁</a> <a id="7310" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7312" href="Pat.Denotational.html#7291" class="Bound">γ</a> <a id="7314" class="Keyword">in</a> <a id="7317" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7321" href="Pat.Denotational.html#7286" class="Bound">e₂</a> <a id="7324" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7326" class="Symbol">(</a><a id="7327" href="Pat.Denotational.html#7291" class="Bound">γ</a> <a id="7329" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="7333" href="Pat.Denotational.html#3937" class="Function Operator">single⟦</a> <a id="7341" href="Pat.Denotational.html#7278" class="Bound">A</a> <a id="7343" href="Pat.Denotational.html#3937" class="Function Operator">⟧</a> <a id="7345" href="Pat.Denotational.html#7299" class="Bound">d</a><a id="7346" class="Symbol">)</a>
<a id="7348" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7352" href="Pat.Term.html#8109" class="InductiveConstructor Operator">`iflet⟨_⟩</a> <a id="7362" class="Symbol">{</a><a id="7363" class="Argument">Π</a> <a id="7365" class="Symbol">=</a> <a id="7367" href="Pat.Denotational.html#7367" class="Bound">Π</a><a id="7368" class="Symbol">}</a> <a id="7370" href="Pat.Denotational.html#7370" class="Bound">Δ</a> <a id="7372" href="Pat.Denotational.html#7372" class="Bound">p</a> <a id="7374" href="Pat.Denotational.html#7374" class="Bound">e₁</a> <a id="7377" href="Pat.Denotational.html#7377" class="Bound">e₂</a> <a id="7380" href="Pat.Denotational.html#7380" class="Bound">e₃</a> <a id="7383" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7385" href="Pat.Denotational.html#7385" class="Bound">γ</a> <a id="7387" class="Symbol">=</a>
  <a id="7391" class="Keyword">let</a> <a id="7395" href="Pat.Denotational.html#7395" class="Bound">e</a> <a id="7397" class="Symbol">=</a> <a id="7399" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7403" href="Pat.Denotational.html#7374" class="Bound">e₁</a> <a id="7406" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7408" class="Symbol">(</a><a id="7409" href="Pat.Denotational.html#3788" class="Function">extG++</a> <a id="7416" href="Pat.Denotational.html#7370" class="Bound">Δ</a> <a id="7418" href="Pat.Denotational.html#7385" class="Bound">γ</a><a id="7419" class="Symbol">)</a> <a id="7421" class="Keyword">in</a>
  <a id="7426" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7431" href="Pat.Matching.html#920" class="Function">match</a> <a id="7437" class="Symbol">(</a><a id="7438" href="Pat.Substitution.html#5368" class="Function">substPattern</a> <a id="7451" class="Symbol">(</a><a id="7452" href="Pat.Denotational.html#7385" class="Bound">γ</a> <a id="7454" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a><a id="7456" class="Symbol">)</a> <a id="7458" href="Pat.Denotational.html#7372" class="Bound">p</a><a id="7459" class="Symbol">)</a> <a id="7461" href="Pat.Denotational.html#7395" class="Bound">e</a> <a id="7463" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7466" class="Symbol">λ</a> <a id="7468" class="Symbol">{</a>
    <a id="7474" class="Symbol">(</a><a id="7475" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7480" href="Pat.Denotational.html#7480" class="Bound">σ</a><a id="7481" class="Symbol">)</a> <a id="7483" class="Symbol">→</a> <a id="7485" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7489" href="Pat.Denotational.html#7377" class="Bound">e₂</a> <a id="7492" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7494" class="Symbol">(</a><a id="7495" href="Pat.Denotational.html#7385" class="Bound">γ</a> <a id="7497" href="Pat.Denotational.html#4145" class="Function Operator">∪</a> <a id="7499" href="Pat.Denotational.html#2446" class="Function">liftS</a> <a id="7505" href="Pat.Denotational.html#7480" class="Bound">σ</a><a id="7506" class="Symbol">);</a>
    <a id="7513" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="7521" class="Symbol">→</a> <a id="7523" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7527" href="Pat.Denotational.html#7380" class="Bound">e₃</a> <a id="7530" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7532" href="Pat.Denotational.html#7385" class="Bound">γ</a> <a id="7534" class="Symbol">}</a>
<a id="7536" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7540" href="Pat.Term.html#8342" class="InductiveConstructor">`rewrite</a> <a id="7549" class="Symbol">{</a><a id="7550" class="Argument">B</a> <a id="7552" class="Symbol">=</a> <a id="7554" href="Pat.Denotational.html#7554" class="Bound">B</a><a id="7555" class="Symbol">}</a> <a id="7557" href="Pat.Denotational.html#7557" class="Bound">e₁</a> <a id="7560" href="Pat.Denotational.html#7560" class="Bound">p</a> <a id="7562" href="Pat.Denotational.html#7562" class="Bound">e₂</a> <a id="7565" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7567" href="Pat.Denotational.html#7567" class="Bound">γ</a> <a id="7569" class="Symbol">=</a>
  <a id="7573" href="Pat.Rewriting.html#808" class="Function">applyBottomUp</a> <a id="7587" class="Symbol">(λ</a> <a id="7590" href="Pat.Denotational.html#7590" class="Bound">ρ</a> <a id="7592" class="Symbol">{</a><a id="7593" href="Pat.Denotational.html#7593" class="Bound">B′</a><a id="7595" class="Symbol">}</a> <a id="7597" href="Pat.Denotational.html#7597" class="Bound">e</a> <a id="7599" class="Symbol">→</a> 
    <a id="7606" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7611" href="Pat.Denotational.html#7554" class="Bound">B</a> <a id="7613" href="Pat.Context.Equality.html#2202" class="Function Operator">≟ᵗ</a> <a id="7616" href="Pat.Denotational.html#7593" class="Bound">B′</a> <a id="7619" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7622" class="Symbol">λ</a> <a id="7624" class="Symbol">{</a>
      <a id="7632" class="Symbol">(</a><a id="7633" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="7637" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="7641" class="Symbol">)</a> <a id="7643" class="Symbol">→</a> <a id="7645" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7650" href="Pat.Matching.html#920" class="Function">match</a> <a id="7656" class="Symbol">(</a><a id="7657" href="Pat.Term.html#8778" class="Function">renamePattern</a> <a id="7671" href="Pat.Denotational.html#7590" class="Bound">ρ</a> <a id="7673" class="Symbol">(</a><a id="7674" href="Pat.Substitution.html#5368" class="Function">substPattern</a> <a id="7687" class="Symbol">(</a><a id="7688" href="Pat.Denotational.html#7567" class="Bound">γ</a> <a id="7690" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a><a id="7692" class="Symbol">)</a> <a id="7694" href="Pat.Denotational.html#7560" class="Bound">p</a><a id="7695" class="Symbol">))</a> <a id="7698" class="Symbol">(</a><a id="7699" href="Pat.Term.html#8531" class="Function">rename</a> <a id="7706" href="Data.StagedList.html#5960" class="InductiveConstructor">L</a> <a id="7708" href="Pat.Denotational.html#7597" class="Bound">e</a><a id="7709" class="Symbol">)</a> <a id="7711" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7714" class="Symbol">λ</a> <a id="7716" class="Symbol">{</a>
      <a id="7724" class="Symbol">(</a><a id="7725" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7730" href="Pat.Denotational.html#7730" class="Bound">σ</a><a id="7731" class="Symbol">)</a> <a id="7733" class="Symbol">→</a> <a id="7735" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7739" href="Pat.Denotational.html#7562" class="Bound">e₂</a> <a id="7742" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7744" class="Symbol">(</a><a id="7745" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="7752" class="Symbol">(</a><a id="7753" href="Pat.Term.html#11807" class="Function">lift</a> <a id="7758" href="Pat.Denotational.html#7590" class="Bound">ρ</a><a id="7759" class="Symbol">)</a> <a id="7761" href="Pat.Denotational.html#7567" class="Bound">γ</a> <a id="7763" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="7767" href="Pat.Denotational.html#2446" class="Function">liftS</a> <a id="7773" href="Pat.Denotational.html#7730" class="Bound">σ</a><a id="7774" class="Symbol">);</a>
      <a id="7783" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="7791" class="Symbol">→</a> <a id="7793" href="Pat.Denotational.html#7597" class="Bound">e</a>
    <a id="7799" class="Symbol">};</a>
    <a id="7806" class="Symbol">(</a><a id="7807" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="7810" class="Symbol">_)</a> <a id="7813" class="Symbol">→</a> <a id="7815" href="Pat.Denotational.html#7597" class="Bound">e</a>
  <a id="7819" class="Symbol">})</a> <a id="7822" class="Symbol">(</a><a id="7823" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7827" href="Pat.Denotational.html#7557" class="Bound">e₁</a> <a id="7830" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7832" href="Pat.Denotational.html#7567" class="Bound">γ</a><a id="7833" class="Symbol">)</a>

<a id="7836" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦</a> <a id="7840" href="Pat.Term.html#1468" class="InductiveConstructor">∅</a> <a id="7842" href="Pat.Denotational.html#6738" class="Function Operator">⟧</a> <a id="7844" href="Pat.Denotational.html#7844" class="Bound">γ</a> <a id="7846" class="Symbol">=</a> <a id="7848" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="7851" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦</a> <a id="7855" href="Pat.Denotational.html#7855" class="Bound">σ</a> <a id="7857" href="Pat.Term.html#1481" class="InductiveConstructor Operator">,</a> <a id="7859" href="Pat.Term.html#1148" class="InductiveConstructor">var</a> <a id="7863" href="Pat.Denotational.html#7863" class="Bound">x</a> <a id="7865" href="Pat.Denotational.html#6738" class="Function Operator">⟧</a> <a id="7867" href="Pat.Denotational.html#7867" class="Bound">γ</a> <a id="7869" class="Symbol">=</a> <a id="7871" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦</a> <a id="7875" href="Pat.Denotational.html#7855" class="Bound">σ</a> <a id="7877" href="Pat.Denotational.html#6738" class="Function Operator">⟧</a> <a id="7879" href="Pat.Denotational.html#7867" class="Bound">γ</a> <a id="7881" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="7885" href="Pat.Denotational.html#1833" class="Function">lookupG</a> <a id="7893" href="Pat.Denotational.html#7867" class="Bound">γ</a> <a id="7895" href="Pat.Denotational.html#7863" class="Bound">x</a>
<a id="7897" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦</a> <a id="7901" href="Pat.Term.html#1481" class="InductiveConstructor Operator">_,_</a> <a id="7905" class="Symbol">{</a><a id="7906" class="Argument">m≥n</a> <a id="7910" class="Symbol">=</a> <a id="7912" href="Data.Nat.Base.html#8770" class="InductiveConstructor">≤‴-refl</a><a id="7919" class="Symbol">}</a> <a id="7921" href="Pat.Denotational.html#7921" class="Bound">σ</a> <a id="7923" class="Symbol">(</a><a id="7924" href="Pat.Term.html#1045" class="InductiveConstructor">term</a> <a id="7929" href="Pat.Denotational.html#7929" class="Bound">e</a><a id="7930" class="Symbol">)</a> <a id="7932" href="Pat.Denotational.html#6738" class="Function Operator">⟧</a> <a id="7934" href="Pat.Denotational.html#7934" class="Bound">γ</a> <a id="7936" class="Symbol">=</a> <a id="7938" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦</a> <a id="7942" href="Pat.Denotational.html#7921" class="Bound">σ</a> <a id="7944" href="Pat.Denotational.html#6738" class="Function Operator">⟧</a> <a id="7946" href="Pat.Denotational.html#7934" class="Bound">γ</a> <a id="7948" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="7952" class="Symbol">λ</a> <a id="7954" href="Pat.Denotational.html#7954" class="Bound">σ′</a> <a id="7957" href="Pat.Denotational.html#7957" class="Bound">γ′</a> <a id="7960" class="Symbol">→</a> <a id="7962" href="Pat.Denotational.html#6696" class="Function Operator">E′⟦</a> <a id="7966" href="Pat.Denotational.html#7929" class="Bound">e</a> <a id="7968" href="Pat.Denotational.html#6696" class="Function Operator">⟧</a> <a id="7970" class="Symbol">((</a><a id="7972" href="Pat.Denotational.html#2645" class="Function">substG</a> <a id="7979" href="Pat.Denotational.html#7954" class="Bound">σ′</a> <a id="7982" href="Pat.Denotational.html#7934" class="Bound">γ</a><a id="7983" class="Symbol">)</a> <a id="7985" href="Pat.Denotational.html#4145" class="Function Operator">∪</a> <a id="7987" href="Pat.Denotational.html#7957" class="Bound">γ′</a><a id="7989" class="Symbol">)</a>
<a id="7991" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦</a> <a id="7995" href="Pat.Term.html#1481" class="InductiveConstructor Operator">_,_</a> <a id="7999" class="Symbol">{</a><a id="8000" class="Argument">m≥n</a> <a id="8004" class="Symbol">=</a> <a id="8006" href="Data.Nat.Base.html#8730" class="InductiveConstructor">≤‴-step</a> <a id="8014" href="Pat.Denotational.html#8014" class="Bound">m≥sn</a><a id="8018" class="Symbol">}</a> <a id="8020" href="Pat.Denotational.html#8020" class="Bound">σ</a> <a id="8022" class="Symbol">(</a><a id="8023" href="Pat.Term.html#1045" class="InductiveConstructor">term</a> <a id="8028" href="Pat.Denotational.html#8028" class="Bound">e</a><a id="8029" class="Symbol">)</a> <a id="8031" href="Pat.Denotational.html#6738" class="Function Operator">⟧</a> <a id="8033" href="Pat.Denotational.html#8033" class="Bound">γ</a> <a id="8035" class="Symbol">=</a> <a id="8037" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦</a> <a id="8041" href="Pat.Denotational.html#8020" class="Bound">σ</a> <a id="8043" href="Pat.Denotational.html#6738" class="Function Operator">⟧</a> <a id="8045" href="Pat.Denotational.html#8033" class="Bound">γ</a> <a id="8047" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="8051" href="Pat.Term.html#1045" class="InductiveConstructor">term</a> <a id="8056" class="Symbol">(</a><a id="8057" href="Pat.Substitution.html#4936" class="Function">subst</a> <a id="8063" class="Symbol">(</a><a id="8064" href="Pat.Term.html#12103" class="Function">exts++</a> <a id="8071" class="Symbol">_</a> <a id="8073" class="Symbol">(</a><a id="8074" href="Pat.Term.html#12824" class="Function">exts↾≥</a> <a id="8081" href="Pat.Denotational.html#8014" class="Bound">m≥sn</a> <a id="8086" class="Symbol">(</a><a id="8087" href="Pat.Denotational.html#8033" class="Bound">γ</a> <a id="8089" href="Pat.Denotational.html#2173" class="Function Operator">↾ᴳ</a><a id="8091" class="Symbol">)))</a> <a id="8095" href="Pat.Denotational.html#8028" class="Bound">e</a><a id="8096" class="Symbol">)</a>
<a id="8098" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦</a> <a id="8102" href="Pat.Denotational.html#8102" class="Bound">σ₁</a> <a id="8105" href="Pat.Term.html#1560" class="InductiveConstructor Operator">++ˢ</a> <a id="8109" href="Pat.Denotational.html#8109" class="Bound">σ₂</a> <a id="8112" href="Pat.Denotational.html#6738" class="Function Operator">⟧</a> <a id="8114" href="Pat.Denotational.html#8114" class="Bound">γ</a> <a id="8116" class="Symbol">=</a> <a id="8118" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦</a> <a id="8122" href="Pat.Denotational.html#8102" class="Bound">σ₁</a> <a id="8125" href="Pat.Denotational.html#6738" class="Function Operator">⟧</a> <a id="8127" href="Pat.Denotational.html#8114" class="Bound">γ</a> <a id="8129" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">P.,</a> <a id="8133" href="Pat.Denotational.html#6738" class="Function Operator">S′⟦</a> <a id="8137" href="Pat.Denotational.html#8109" class="Bound">σ₂</a> <a id="8140" href="Pat.Denotational.html#6738" class="Function Operator">⟧</a> <a id="8142" href="Pat.Denotational.html#8114" class="Bound">γ</a>